generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model access_rights {
  id                     Int                      @id @default(autoincrement())
  name                   String
  can_view               Int                      @default(0) @db.TinyInt
  can_create             Int                      @default(0) @db.TinyInt
  can_update             Int                      @default(0) @db.TinyInt
  can_delete             Int                      @default(0) @db.TinyInt
  can_manage             Int                      @default(0) @db.TinyInt
  createdAt              DateTime                 @default(now())
  employee_access_rights employee_access_rights[]
}

model employee_access_rights {
  id                  Int           @id @default(autoincrement())
  employee_id         Int
  employee_department String?       @db.VarChar(50)
  access_right_id     Int           @default(1)
  createdAt           DateTime      @default(now())
  updatedAt           DateTime      @updatedAt
  access_rights       access_rights @relation(fields: [access_right_id], references: [id])
}

// * I Start of the Demograhic Data

model patients {
  id                   Int       @id @default(autoincrement())
  first_name           String    @db.VarChar(50)
  middle_name          String?   @db.VarChar(50)
  last_name            String    @db.VarChar(50)
  birth_date           DateTime? @db.Date
  age                  Int?
  sex                  String?   @db.VarChar(10)
  contact_number       String?   @db.VarChar(20)
  place_of_birth       String?   @db.VarChar(100)
  gender               String?   @db.VarChar(50)
  religion             String?   @db.VarChar(50)
  nationality          String?   @db.VarChar(50)
  civil_status         String?   @db.VarChar(50)
  education_attainment String?   @db.VarChar(50)
  living_arrangement   String?   @db.VarChar(50)
  educational_status   String?   @db.VarChar(50)
  occupation           String?   @db.VarChar(50)
  monthly_income       String?   @db.VarChar(50)
  ph_membership_number String?   @db.VarChar(50)
  ph_membership_type   String?   @db.VarChar(50)
  created_at           DateTime  @default(now()) @db.DateTime(0)

  patient_permanent_address                patient_permanent_address[]
  patient_temporary_address                patient_temporary_address[]
  patient_educ_attainment                  patient_educ_attainment[]
  patient_family_composition               patient_family_composition[]
  patient_mswd_classification              patient_mswd_classification[]
  patient_monthly_expenses                 patient_monthly_expenses[]
  patient_medical_data                     patient_medical_data[]
  patient_health_and_mental_health         patient_health_and_mental_health[]
  patient_interview                        patient_interview[]
  patient_safety                           patient_safety[]
  patient_assessment_of_social_functioning patient_assessment_of_social_functioning[]
  // patient_problems_in_the_environment      patient_problems_in_the_environment[]
}

model patient_interview {
  id                       Int       @id @default(autoincrement())
  patient_id               Int?
  interview_date           DateTime? @db.Date
  interview_time           String?   @db.VarChar(50)
  admission_date_and_time  DateTime? @db.DateTime
  basic_ward               String?   @db.VarChar(50)
  nonbasic_ward            String?   @db.VarChar(50)
  health_record_number     String?   @db.VarChar(50)
  mswd_number              String?   @db.VarChar(50)
  referring_party          String?   @db.VarChar(50)
  address                  String?   @db.VarChar(50)
  contact_number           String?   @db.VarChar(50)
  informant                String?   @db.VarChar(50)
  relationship_to_patient  String?   @db.VarChar(50)
  informant_contact_number String?   @db.VarChar(50)
  informant_address        String?   @db.VarChar(50)
  patients                 patients? @relation(fields: [patient_id], references: [id])
}

model patient_permanent_address {
  id           Int      @id @default(autoincrement())
  patient_id   Int
  region       String?  @db.VarChar(50)
  province     String?  @db.VarChar(50)
  district     String?  @db.VarChar(50)
  municipality String?  @db.VarChar(50)
  barangay     String?  @db.VarChar(50)
  purok        String?  @db.VarChar(50)
  patients     patients @relation(fields: [patient_id], references: [id])
}

model patient_temporary_address {
  id           Int      @id @default(autoincrement())
  patient_id   Int
  region       String?  @db.VarChar(50)
  province     String?  @db.VarChar(50)
  district     String?  @db.VarChar(50)
  municipality String?  @db.VarChar(50)
  barangay     String?  @db.VarChar(50)
  purok        String?  @db.VarChar(50)
  patients     patients @relation(fields: [patient_id], references: [id])
}

model patient_educ_attainment {
  id                 Int      @id @default(autoincrement())
  patient_id         Int
  highest_educ_level String?  @db.VarChar(50)
  educational_status String?  @db.VarChar(50)
  patients           patients @relation(fields: [patient_id], references: [id])
}

model patient_family_composition {
  id                     Int       @id @default(autoincrement())
  patient_id             Int
  full_name              String?   @db.VarChar(50)
  age                    Int?
  birth_date             DateTime? @db.Date
  civil_status           String?   @db.VarChar(50)
  relationship           String?   @db.VarChar(50)
  educational_attainment String?   @db.VarChar(50)
  occupation             String?   @db.VarChar(50)
  monthly_income         String?   @db.VarChar(50)
  other_source_of_income String?   @db.VarChar(50)
  household_size         Int?
  total_household_income String?   @db.VarChar(50)
  per_capita_income      String?   @db.VarChar(50)
  patients               patients  @relation(fields: [patient_id], references: [id])
}

// * End of the Demograhic Data

// * II MSWD Classification

model patient_mswd_classification {
  id                                Int      @id @default(autoincrement())
  patient_id                        Int
  main_classification               String?  @db.VarChar(50)
  sub_classification                String?  @db.VarChar(50)
  membership_to_marginalized_sector String?  @db.VarChar(50)
  patients                          patients @relation(fields: [patient_id], references: [id])
}

// * End of MSWD Classification

// * III Monthly Expenses

model patient_monthly_expenses {
  id                     Int      @id @default(autoincrement())
  particular1            Json?
  particular2            Json?
  patient_id             Int
  light_source           Json?
  fuel_source            String?  @db.VarChar(50)
  water_source           String?  @db.VarChar(50)
  total_monthly_expenses String?  @db.VarChar(50)
  remarks                String?  @db.VarChar(255)
  patients               patients @relation(fields: [patient_id], references: [id])
}

// * III Monthly Expenses

// * IV Medical Data

model patient_medical_data {
  id                           Int      @id @default(autoincrement())
  patient_id                   Int
  admitting_diagnosis          String?  @db.VarChar(255)
  final_diagnosis              String?  @db.VarChar(255)
  duration_of_problems         String?  @db.VarChar(50)
  previous_treatment           String?  @db.VarChar(255)
  present_treatment_plan       String?  @db.VarChar(255)
  health_accessibility_problem String?  @db.VarChar(50)
  // severity_index               String? @db.VarChar(50)
  // duration_index               String? @db.VarChar(50)
  // coping_index                 String? @db.VarChar(50)
  patients                     patients @relation(fields: [patient_id], references: [id])
}

// * IV Medical Data

// rating and feedback

// * V Health and Mental health

model patient_health_and_mental_health {
  id                                   Int   @id @default(autoincrement())
  patient_id                           Int
  abscence_of_adequate_health_services Json?
  inaccessibility_of_health_services   Json?
  abscence_of_support_health_services  Json?
  absence_of_adequate_mental_services  Json?
  inaccessibility_of_mental_services   Json?
  absence_of_support_mental_services   Json?

  patients patients @relation(fields: [patient_id], references: [id])
}

// * V Health and Mental health

// * VI Rating and Feedback

// * VI Rating and Feedback

// * VII Safety

model patient_safety {
  id                                  Int      @id @default(autoincrement())
  patient_id                          Int
  voice_crime_in_community            Json?
  unsafe_working_conditions           Json?
  unsafe_codition_home                Json?
  absence_of_adequate_safety_services Json?
  natural_disasters                   Json?
  human_created_disasters             Json?
  patients                            patients @relation(fields: [patient_id], references: [id])
}

// * VII Safety

// * VIII Assesment of Social Functioning
model patient_assessment_of_social_functioning {
  // familial roles
  id                     Int      @id @default(autoincrement())
  patient_id             Int
  parent                 Json?
  spouse                 Json?
  child                  Json?
  sibling                Json?
  other_family_member    Json?
  significant_others     Json?
  // interpersonal roles
  lover                  Json?
  friend                 Json?
  neighbor               Json?
  member                 Json?
  // occupational roles
  worker_paid_economy    Json?
  worker_home            Json?
  worker_volunteer       Json?
  student                Json?
  // Special life situation roles
  consumer               Json?
  inpatient              Json?
  outpatient             Json?
  er_patient             Json?
  prisoner               Json?
  immigrant_legal        Json?
  immigrant_undocumented Json?
  imigrant_refugee       Json?
  patients               patients @relation(fields: [patient_id], references: [id])
}

// * VIII Assesment of Social Functioning

// * IX Problems in the environment
// model patient_problems_in_the_environment {
//   id                   Int      @id @default(autoincrement())
//   patient_id           Int
//   // food and nutrition
//   lack_of_regular_food_supply Json?
//   nutritionally_Inadequate_food_supply       Json?
//   documented_malnutrition                   Json?
//   // shelter
//   absence_of_shelter                        Json?
//   substandard_shelter                       Json?
//   // employment
//   unemployment_not_available_in_community   Json?
//   underemployment_not_available_in_community Json?
//   inappropiate_employment_acceptable_in_community Json?
//   // economic resources
  
//   // transportation



//   patients             patients @relation(fields: [patient_id], references: [id])
// }

// * IX Problems in the environment
