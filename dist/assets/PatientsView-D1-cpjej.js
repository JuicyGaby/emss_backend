import{r as V,L as Fe,o as s,A as M,x as a,d as e,c as y,F as w,a as C,z as Y,M as ee,w as he,y as l,N as Ue,O as k,p as pe,g as ve,P as it,u as ye,Q as Ae,B,R as st,S as ot,T as rt,U as ut,k as K,b as dt,W as ct,X as G,h as mt,Y as pt,l as vt,e as ge,Z as yt,_ as ft,$ as _t,a0 as ht,a1 as Ce,a2 as bt,a3 as O,a4 as gt,a5 as xt,G as X,J as te,t as P,K as oe,C as N,a6 as wt,a7 as L,E as Q,D as de,a8 as be,a9 as ue,aa as H,ab as re,ac as ce,H as Vt,ad as It,ae as Ut}from"./index-DgBO3Ov5.js";import{c as At,a as Ee,u as Ct,g as St,s as Pt}from"./patients-DU3j-CMs.js";import{V as Z,m as Dt,a as me,b as Tt,c as J,d as kt,e as Se,_ as xe,f as Pe,g as fe,h as ne,i as we,j as Ve}from"./VTabs-Uc2G_oqb.js";import{h as De,a as j,b as W,V as z,f as Nt,g as ie,d as ae,c as Ie,e as Te}from"./VDialog-Pzjt_2Nj.js";const Mt={__name:"interview",emits:["interviewData"],setup(n,{emit:r}){const t=r,i=V({interview_date_time:De().format("YYYY-MM-DDTHH:mm"),admission_date_time:De().format("YYYY-MM-DDTHH:mm")});Fe(()=>{const v=Object.keys(i.value).reduce((g,U)=>(g[U]=i.value[U],g),{});t("interviewData",v)});const u={interview_date_time:{label:"Interview Date and Time",type:"datetime-local",formType:"text"},admission_date_time:{label:"Admission Date Time",type:"datetime-local",formType:"text"},basic_ward:{label:"Basic Ward",type:"text",formType:"text"},nonbasic_ward:{label:"Non-Basic Ward",type:"text",formType:"text"},health_record_number:{label:"Health Record Number",type:"number",formType:"text"},mswd_number:{label:"MSWD Number",type:"number",formType:"text"},source_of_referral:{label:"Source of Referral",formType:"select",items:["Government Hospital","Private Hospitals/Clinics","Politicians","Media","Health Care Team","NGO’s/Private Welfare Agencies","Government Agencies","Walk – in","Others"]},referring_party:{label:"Referring Party",type:"text",formType:"text"},address:{label:"Address",type:"text",formType:"text"},contact_number:{label:"Contact Number",type:"number",formType:"text"},informant:{label:"Informant",type:"text",formType:"text"},relationship_to_patient:{label:"Relationship to Patient",formType:"select",items:["Friends","Workmates","Neighbors","Relatives","Spouse","Children","Parents","Siblings","Others"]},informant_contact_number:{label:"Informant Contact Number",type:"number",formType:"text"},informant_address:{label:"Informant Address",type:"text",formType:"text"}};return(v,g)=>(s(),M(z,{style:{width:"900px"}},{default:a(()=>[e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex ga-2 flex-wrap"},{default:a(()=>[(s(),y(w,null,C(u,(U,A)=>(s(),y(w,null,[U.formType==="text"?(s(),M(Y,{key:"text-"+A,label:U.label,"hide-spin-buttons":!0,variant:"outlined",type:U.type,style:{width:"400px"},rules:U.rules,density:"compact",modelValue:i.value[A],"onUpdate:modelValue":o=>i.value[A]=o},null,8,["label","type","rules","modelValue","onUpdate:modelValue"])):U.formType==="select"?(s(),M(Z,{key:"select-"+A,label:U.label,variant:"outlined",style:{width:"400px"},density:"compact",items:U.items,modelValue:i.value[A],"onUpdate:modelValue":o=>i.value[A]=o},null,8,["label","items","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),64))]),_:1})]),_:1})]),_:1}))}},Ft=async n=>await(await fetch("http://172.16.1.46:4000/emss/interview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Re=async n=>{const r=`http://172.16.1.46:4000/emss/interview/${n}`;return await(await fetch(r)).json()},Et=async(n,r)=>{const t=`http://172.16.1.46:4000/emss/interview/${n}`;return await(await fetch(t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json()},Le=async n=>{const r=`http://172.16.1.46:4000/emss/family-composition/${n}`;return await(await fetch(r)).json()},Rt=async n=>await(await fetch("http://172.16.1.46:4000/emss/family-composition",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Lt=async n=>await(await fetch("http://172.16.1.46:4000/emss/family-composition",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),$t=async n=>{const r=`http://172.16.1.46:4000/emss/family-composition/${n}`;return await(await fetch(r,{method:"DELETE"})).json()},Ht=async()=>await(await fetch("http://172.16.1.46:4000/emss/region")).json(),ke=async n=>{const r=`http://172.16.1.46:4000/emss/province/${n}`;return await(await fetch(r)).json()},Ne=async n=>{const r=`http://172.16.1.46:4000/emss/municipality/${n}`;return await(await fetch(r)).json()},Me=async n=>{const r=`http://172.16.1.46:4000/emss/barangay/${n}`;return await(await fetch(r)).json()},Bt=async n=>{const r=`http://172.16.1.46:4000/emss/address/${n}`;return await(await fetch(r)).json()},jt=async n=>await(await fetch("http://172.16.1.46:4000/emss/address",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Ot=async n=>await(await fetch("http://172.16.1.46:4000/emss/address",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),$e=async n=>{const r=`http://172.16.1.46:4000/emss/mswd-classification/${n}`;return await(await fetch(r)).json()},Wt=async n=>await(await fetch("http://172.16.1.46:4000/emss/mswd-classification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),qt=async n=>await(await fetch("http://172.16.1.46:4000/emss/mswd-classification",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),He=async n=>{const r=`http://172.16.1.46:4000/emss/monthly-expenses/${n}`;return await(await fetch(r)).json()},Gt=async n=>await(await fetch("http://172.16.1.46:4000/emss/monthly-expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Jt=async n=>await(await fetch("http://172.16.1.46:4000/emss/monthly-expenses",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Be=async n=>{const r=`http://172.16.1.46:4000/emss/medical-data/${n}`;return await(await fetch(r)).json()},zt=async n=>await(await fetch("http://172.16.1.46:4000/emss/medical-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Yt=async n=>await(await fetch("http://172.16.1.46:4000/emss/medical-data",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),je=async n=>{const r=`http://172.16.1.46:4000/emss/health-and-mental-health/${n}`;return await(await fetch(r)).json()},Kt=async n=>await(await fetch("http://172.16.1.46:4000/emss/health-and-mental-health",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Qt=async n=>await(await fetch("http://172.16.1.46:4000/emss/health-and-mental-health",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Oe=async n=>{const r=`http://172.16.1.46:4000/emss/discrimination/${n}`;return await(await fetch(r)).json()},Xt=async n=>await(await fetch("http://172.16.1.46:4000/emss/discrimination",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Zt=async n=>await(await fetch("http://172.16.1.46:4000/emss/discrimination",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),We=async n=>{const r=`http://172.16.1.46:4000/emss/safety/${n}`;return await(await fetch(r)).json()},ea=async n=>await(await fetch("http://172.16.1.46:4000/emss/safety",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),ta=async n=>await(await fetch("http://172.16.1.46:4000/emss/safety",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),qe=async n=>{const r=`http://172.16.1.46:4000/emss/social-functioning/${n}`;return await(await fetch(r)).json()},aa=async n=>await(await fetch("http://172.16.1.46:4000/emss/social-functioning",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),la=async n=>await(await fetch("http://172.16.1.46:4000/emss/social-functioning",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),Ge=async n=>{const r=`http://172.16.1.46:4000/emss/problems-in-environment/${n}`;return await(await fetch(r)).json()},na=async n=>await(await fetch("http://172.16.1.46:4000/emss/problems-in-environment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),ia=async n=>await(await fetch("http://172.16.1.46:4000/emss/problems-in-environment",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json(),sa={class:"pages"},oa={class:"pages"},ra={__name:"demographic-data",emits:["personalData"],setup(n,{emit:r}){const t=r,i=V(2),u=V(1),v=V({});Fe(()=>{const U=Object.keys(v.value).reduce((A,o)=>(A[o]=v.value[o],A),{});t("personalData",U)});const g={step1:{last_name:{label:"Last Name",formType:"text",type:"text",hint:"Field Required"},first_name:{label:"First Name",formType:"text",type:"text",hint:"Field Required"},middle_name:{label:"Middle Name",formType:"text",type:"text"},preferred_name:{label:"Preferred Name",formType:"text",type:"text",hint:"For members of the LGBTQIA+ Community"},age:{label:"Age",formType:"text",type:"number"},contact_number:{label:"Contact Number",formType:"text",type:"number"},birth_date:{label:"Date of Birth",formType:"text",type:"date"},place_of_birth:{label:"Place of Birth",formType:"text",type:"text"},religion:{label:"Religion",formType:"select",type:"text",items:["Roman Catholic","Iglesia ni Cristo","Muslim","Born Again Christian","Others"]},nationality:{label:"Nationality",formType:"select",type:"text",items:["Filipino","Others"]},sex:{label:"Sex",items:["Male","Female"],formType:"select"},gender:{label:"Gender Identity",items:["Masculine","Feminine","LGBTQIA+","Other"],formType:"select"}},step2:{civil_status:{label:"Civil Status",formType:"select",items:["Single","Married","Widowed","Divorced","Annulled","Common Law OS","Common Law SS","Separated Legally","Separated De Facto"]},living_arrangement:{label:"Living Arrangement",formType:"select",items:["owned","shared","rent","homeless","institutionalized","others"]},education:{label:"Education",formType:"select",items:["Early Childhood Education","Primary","Secondary","Tertiary","Vocational","Post Graduate","No Educational Attainment"]},educationStatus:{label:"Education Status",formType:"select",items:["Level","Graduated","Ongoing"]},occupation:{label:"Occupation",formType:"text",type:"text"},monthly_income:{label:"Monthly Income",formType:"text",type:"number"},ph_membership_number:{label:"PhilHealth Membership Number",formType:"text",type:"text"},ph_membership_type:{label:"PhilHealth Membership",formType:"select",items:["Direct Contributor","Indirect Contributor"]}}};return(U,A)=>(s(),y(w,null,[e(z,{class:"",style:{width:"900px"}},{default:a(()=>[he(l("div",sa,[e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex ga-2 flex-wrap"},{default:a(()=>[(s(!0),y(w,null,C(g.step1,(o,h)=>(s(),y(w,null,[o.formType==="text"?(s(),M(Y,{key:"text-"+h,label:o.label,"hide-spin-buttons":!0,variant:"outlined",type:o.type,style:{width:"400px"},rules:o.rules,density:"compact",hint:o.hint,"persistent-hint":!0,modelValue:v.value[h],"onUpdate:modelValue":d=>v.value[h]=d},null,8,["label","type","rules","hint","modelValue","onUpdate:modelValue"])):o.formType==="select"?(s(),M(Z,{key:"select-"+h,label:o.label,variant:"outlined",style:{width:"400px"},density:"compact",items:o.items,modelValue:v.value[h],"onUpdate:modelValue":d=>v.value[h]=d},null,8,["label","items","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),256))]),_:1})]),_:1})],512),[[Ue,u.value==1]]),he(l("div",oa,[e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex ga-2 flex-wrap"},{default:a(()=>[(s(!0),y(w,null,C(g.step2,(o,h)=>(s(),y(w,null,[o.formType==="text"?(s(),M(Y,{key:"text-"+h,label:o.label,"hide-spin-buttons":!0,variant:"outlined",type:o.type,style:{width:"400px"},rules:o.rules,density:"compact",hint:o.hint,"persistent-hint":!0,modelValue:v.value[h],"onUpdate:modelValue":d=>v.value[h]=d},null,8,["label","type","rules","hint","modelValue","onUpdate:modelValue"])):o.formType==="select"?(s(),M(k,{key:"select-"+h,label:o.label,variant:"outlined",style:{width:"400px"},density:"compact",items:o.items,modelValue:v.value[h],"onUpdate:modelValue":d=>v.value[h]=d},null,8,["label","items","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),256))]),_:1})]),_:1})],512),[[Ue,u.value==2]])]),_:1}),e(Nt,{length:i.value,modelValue:u.value,"onUpdate:modelValue":A[0]||(A[0]=o=>u.value=o)},null,8,["length","modelValue"])],64))}},Je=pe({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),ua=ve()({name:"VStepperActions",props:Je(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(n,r){let{emit:t,slots:i}=r;const{t:u}=it();function v(){t("click:prev")}function g(){t("click:next")}return ye(()=>{const U={onClick:v},A={onClick:g};return e("div",{class:"v-stepper-actions"},[e(Ae,{defaults:{VBtn:{disabled:["prev",!0].includes(n.disabled),text:u(n.prevText),variant:"text"}}},{default:()=>{var o;return[((o=i.prev)==null?void 0:o.call(i,{props:U}))??e(B,U,null)]}}),e(Ae,{defaults:{VBtn:{color:n.color,disabled:["next",!0].includes(n.disabled),text:u(n.nextText),variant:"tonal"}}},{default:()=>{var o;return[((o=i.next)==null?void 0:o.call(i,{props:A}))??e(B,A,null)]}})])}),{}}}),da=st("v-stepper-header"),ca=pe({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]},...ot()},"VStepperItem"),ma=ve()({name:"VStepperItem",directives:{Ripple:rt},props:ca(),emits:{"group:selected":n=>!0},setup(n,r){let{slots:t}=r;const i=ut(n,ze,!0),u=K(()=>(i==null?void 0:i.value.value)??n.value),v=K(()=>n.rules.every(d=>d()===!0)),g=K(()=>!n.disabled&&n.editable),U=K(()=>n.error||!v.value),A=K(()=>n.complete||n.rules.length>0&&v.value),o=K(()=>U.value?n.errorIcon:A.value?n.completeIcon:n.editable?n.editIcon:n.icon),h=K(()=>({canEdit:g.value,hasError:U.value,hasCompleted:A.value,title:n.title,subtitle:n.subtitle,step:u.value,value:n.value}));return ye(()=>{var _,m,p;const d=(!i||i.isSelected.value||A.value||g.value)&&!U.value&&!n.disabled,I=!!(n.title!=null||t.title),f=!!(n.subtitle!=null||t.subtitle);function F(){i==null||i.toggle()}return he(e("button",{class:["v-stepper-item",{"v-stepper-item--complete":A.value,"v-stepper-item--disabled":n.disabled,"v-stepper-item--error":U.value},i==null?void 0:i.selectedClass.value],disabled:!n.editable,onClick:F},[e(ct,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:d?n.color:void 0,size:24},{default:()=>{var c;return[((c=t.icon)==null?void 0:c.call(t,h.value))??(o.value?e(G,{icon:o.value},null):u.value)]}}),e("div",{class:"v-stepper-item__content"},[I&&e("div",{key:"title",class:"v-stepper-item__title"},[((_=t.title)==null?void 0:_.call(t,h.value))??n.title]),f&&e("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((m=t.subtitle)==null?void 0:m.call(t,h.value))??n.subtitle]),(p=t.default)==null?void 0:p.call(t,h.value)])]),[[dt("ripple"),n.ripple&&n.editable,null]])}),{}}}),pa=Symbol.for("vuetify:v-stepper"),va=pe({...mt(Dt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),ya=ve()({name:"VStepperWindow",props:va(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:t}=r;const i=pt(pa,null),u=vt(n,"modelValue"),v=K({get(){var g;return u.value!=null||!i?u.value:(g=i.items.value.find(U=>i.selected.value.includes(U.id)))==null?void 0:g.value},set(g){u.value=g}});return ye(()=>{const g=me.filterProps(n);return e(me,ge({_as:"VStepperWindow"},g,{modelValue:v.value,"onUpdate:modelValue":U=>v.value=U,class:"v-stepper-window",mandatory:!1,touch:!1}),t)}),{}}}),fa=pe({...Tt()},"VStepperWindowItem"),_a=ve()({name:"VStepperWindowItem",props:fa(),setup(n,r){let{slots:t}=r;return ye(()=>{const i=J.filterProps(n);return e(J,ge({_as:"VStepperWindowItem"},i,{class:"v-stepper-window-item"}),t)}),{}}}),ze=Symbol.for("vuetify:v-stepper"),ha=pe({altLabels:Boolean,bgColor:String,editable:Boolean,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},mobile:Boolean,nonLinear:Boolean,flat:Boolean,...yt({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...kt(),...ft(Je(),["prevText","nextText"])},"VStepper"),ba=ve()({name:"VStepper",props:ha(),emits:{"update:modelValue":n=>!0},setup(n,r){let{slots:t}=r;const{items:i,next:u,prev:v,selected:g}=_t(n,ze),{color:U,editable:A,prevText:o,nextText:h}=ht(n),d=K(()=>n.items.map((F,_)=>{const m=Ce(F,n.itemTitle,F),p=Ce(F,n.itemValue,_+1);return{title:m,value:p,raw:F}})),I=K(()=>i.value.findIndex(F=>g.value.includes(F.id))),f=K(()=>n.disabled?n.disabled:I.value===0?"prev":I.value===i.value.length-1?"next":!1);return bt({VStepperItem:{editable:A,prevText:o,nextText:h},VStepperActions:{color:U,disabled:f,prevText:o,nextText:h}}),ye(()=>{const F=Se.filterProps(n),_=!!(t.header||n.items.length),m=n.items.length>0,p=!n.hideActions&&!!(m||t.actions);return e(Se,ge(F,{color:n.bgColor,class:["v-stepper",{"v-stepper--alt-labels":n.altLabels,"v-stepper--flat":n.flat,"v-stepper--non-linear":n.nonLinear,"v-stepper--mobile":n.mobile},n.class],style:n.style}),{default:()=>{var c,b;return[_&&e(da,{key:"stepper-header"},{default:()=>[d.value.map((D,S)=>e(w,null,[!!S&&e(O,null,null),e(ma,D,{default:t[`header-item.${D.value}`]??t.header,icon:t.icon,title:t.title,subtitle:t.subtitle})]))]}),m&&e(ya,{key:"stepper-window"},{default:()=>[d.value.map(D=>e(_a,{value:D.value},{default:()=>{var S,E;return((S=t[`item.${D.value}`])==null?void 0:S.call(t,D))??((E=t.item)==null?void 0:E.call(t,D))}}))]}),(c=t.default)==null?void 0:c.call(t,{prev:v,next:u}),p&&(((b=t.actions)==null?void 0:b.call(t,{next:u,prev:v}))??e(ua,{key:"stepper-actions","onClick:prev":v,"onClick:next":u},t))]}})}),{prev:v,next:u}}}),ga=l("h1",null,"Patient Details",-1),xa=l("h3",null,"Interview Data",-1),wa=l("thead",null,[l("tr",null,[l("th",{class:"text-center",style:{width:"500px"}},"Field"),l("th",{class:"text-center",style:{width:"500px"}},"Data")])],-1),Va={class:"font-weight-bold"},Ia=l("h3",null,"Personal Data",-1),Ua=l("thead",null,[l("tr",null,[l("th",{class:"text-center",style:{width:"500px"}},"Field"),l("th",{class:"text-center",style:{width:"500px"}},"Data")])],-1),Aa={class:"font-weight-bold"},Ca=l("h2",null,"Successfully Assesed Patient",-1),Sa={__name:"initialAssesment",emits:["closeCreateDialog","viewPatient","addPatient"],setup(n,{emit:r}){const t=r,i=gt(),u=V({created:!1,error:!1}),v=V({}),g={interview:V({}),demographicData:V({})},U=c=>{g.interview=c},A=c=>{g.demographicData=c},o={interview_date_time:"Interview Date Time: ",admission_date_time:"Admission Date Time: ",basic_ward:"Basic Ward: ",nonbasic_ward:"Non-Basic Ward: ",health_record_number:"Health Record Number: ",mswd_number:"MSWD Number: ",source_of_referral:"Source of Referral: ",referring_party:"Referring Party: ",address:"Address: ",contact_number:"Contact Number: ",informant:"Informant: ",relationship_to_patient:"Relationship to Patient: ",informant_contact_number:"Informant Contact Number: ",informant_address:"Informant Address: "},h={last_name:"Last Name: ",first_name:"First Name: ",middle_name:"Middle Name: ",age:"Age: ",contact_number:"Contact Number: ",birth_date:"Birth Date: ",place_of_birth:"Place of Birth: ",sex:"Sex: ",gender:"Gender: ",religion:"Religion: ",nationality:"Nationality: ",civil_status:"Civil Status: ",living_arrangement:"Living Arrangement: ",education:"Education: ",educationStatus:"Education Status: ",occupation:"Occupation: ",monthly_income:"Monthly Income: ",ph_membership_number:"PH Membership Number: ",ph_membership_type:"PH Membership: "},d=()=>{u.value.created=!1,t("closeCreateDialog")},I=c=>{d(),t("viewPatient",c)},f=()=>{t("addPatient",v)},F=async()=>{if(!m())return;console.log(g.demographicData),console.log(g.interview);const c=i.user.id;g.demographicData.created_by=c;const b=await At(g);b&&(u.value.created=!0,v.value=b,f())},_=()=>{u.value.error=!0},m=()=>{const{first_name:c,last_name:b}=g.demographicData;return!c||!b?(_(),!1):!0},p=["Interview","Personal Data","Review & Create Patient"];return(c,b)=>{const D=xt("v-cols");return s(),y(w,null,[e(ba,{flat:"","alt-labels":"",items:p},{"item.1":a(()=>[e(X,{class:"text-center",title:"",flat:""},{default:a(()=>[e(te,{class:""},{default:a(()=>[e(Mt,{onInterviewData:U})]),_:1})]),_:1})]),"item.2":a(()=>[e(X,{class:"text-center",flat:""},{default:a(()=>[e(te,{class:""},{default:a(()=>[e(ra,{onPersonalData:A})]),_:1})]),_:1})]),"item.3":a(()=>[ga,e(O),e(z,{style:{width:"1000px"}},{default:a(()=>[e(j,null,{default:a(()=>[xa,e(D,null,{default:a(()=>[e(ie,{density:"compact",style:{width:"1000px"}},{default:a(()=>[wa,l("tbody",null,[(s(),y(w,null,C(o,(S,E)=>l("tr",{key:E},[l("td",null,P(S),1),l("td",Va,P(g.interview[E]),1)])),64))])]),_:1})]),_:1})]),_:1}),e(j,{class:"my-5"},{default:a(()=>[Ia,e(O),e(D,null,{default:a(()=>[e(ie,{density:"compact",style:{width:"1000px"}},{default:a(()=>[Ua,l("tbody",null,[(s(),y(w,null,C(h,(S,E)=>l("tr",{key:E},[l("td",null,P(S),1),l("td",Aa,P(g.demographicData[E]),1)])),64))])]),_:1})]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"justify-end"},{default:a(()=>[e(oe,{class:"justify-end"},{default:a(()=>[e(B,{variant:"flat",color:"secondary","prepend-icon":"mdi-account-plus",onClick:F},{default:a(()=>[N("Create Patient")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:2},1024),e(ae,{modelValue:u.value.created,"onUpdate:modelValue":b[1]||(b[1]=S=>u.value.created=S),"max-width":"500","hide-overlay":"",persistent:"",transition:"dialog-transition"},{default:a(()=>[e(X,null,{default:a(()=>[e(te,null,{default:a(()=>[Ca]),_:1}),e(oe,{class:"justify-end"},{default:a(()=>[e(B,{variant:"outlined","prepend-icon":"mdi-pencil",color:"primary",onClick:b[0]||(b[0]=S=>I(v.value.id))},{default:a(()=>[N("Edit Patient")]),_:1}),e(B,{color:"error",onClick:d,variant:"outlined"},{default:a(()=>[N("Close")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ae,{modelValue:u.value.error,"onUpdate:modelValue":b[2]||(b[2]=S=>u.value.error=S),"max-width":"500"},{default:a(()=>[e(X,null,{default:a(()=>[e(wt,{variant:"outlined",icon:"mdi-alert-circle-outline",title:"Please input neccesary fields",text:"Fields : First Name, Last Name, Hospital Number",color:"error"})]),_:1})]),_:1},8,["modelValue"])],64)}}},Pa={class:"d-flex justify-center align-center"},Da=l("h1",null,"Initial Interview",-1),Ta={__name:"InterviewView",props:{patientId:Number},setup(n){const r=n,t=V(null),i=V({}),u=V({isExist:!1,patientId:r.patientId,health_record_number:"",mswd_number:"",contact_number:"",informant_contact_number:""}),v=V({interview_date:{label:"Interview Date",type:"text",formType:"date"},interview_time:{label:"Interview Time",type:"text",formType:"time"},admission_date_and_time:{label:"Admission Date-Time",type:"text",formType:"datetime-local"},basic_ward:{label:"Basic Ward",type:"text"},nonbasic_ward:{label:"Non-Basic Ward",type:"text"},health_record_number:{label:"Health Record Number",type:"text",formType:"number",rules:[L.invalidNegative]},mswd_number:{label:"MSWD Number",type:"text",formType:"number",rules:[L.invalidNegative]},referring_party:{label:"Referring Party",type:"text"},source_of_referral:{label:"Source of Referral",type:"select",items:["Government Hospital","Private Hospitals/Clinics","Politicians","Media","Health Care Team","NGO’s/Private Welfare Agencies","Government Agencies","Walk – in","Others"]},address:{label:"Referal Address",type:"text"},contact_number:{label:"Referal Contact Number",type:"text",formType:"number",rules:[L.invalidNegative]},informant:{label:"Informant",type:"text"},relationship_to_patient:{label:"Informant relationship to Patient",type:"select",items:["Friends","Workmates","Neighbors","Relatives","Spouse","Children","Parents","Siblings","Others"]},informant_contact_number:{label:"Informant Contact Number",type:"text",formType:"number",rules:[L.invalidNegative]},informant_address:{label:"Informant Address",type:"text"}}),g=async()=>{const o=await Re(r.patientId);o&&(u.value=o,u.value.isExist=!0),console.log(u.value)},U=async()=>{if(!await be(t))return;await Ft(u.value)&&(i.value=ue("success","Interview Created Successfully"),u.value.isExist=!0)},A=async()=>{if(!await be(t))return;await Et(r.patientId,u.value)&&(i.value=ue("success","Interview Updated Successfully"))};return Q(async()=>{await g()}),(o,h)=>(s(),y(w,null,[l("div",Pa,[e(z,{style:{width:"1000px"}},{default:a(()=>[Da,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(de,{ref_key:"interviewForm",ref:t},{default:a(()=>[e(W,{cols:"12",class:"d-flex ga-2 flex-wrap"},{default:a(()=>[(s(!0),y(w,null,C(v.value,(d,I)=>(s(),y(w,null,[d.type==="text"?(s(),M(Y,{key:"text-"+I,label:d.label,"hide-spin-buttons":!0,variant:"outlined",type:d.formType,style:{width:"400px"},rules:d.rules,modelValue:u.value[I],"onUpdate:modelValue":f=>u.value[I]=f,density:"comfortable"},null,8,["label","type","rules","modelValue","onUpdate:modelValue"])):d.type==="select"?(s(),M(Z,{key:"select-"+I,label:d.label,items:d.items,variant:"outlined",style:{width:"400px"},modelValue:u.value[I],"onUpdate:modelValue":f=>u.value[I]=f,density:"comfortable"},null,8,["label","items","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),256))]),_:1})]),_:1},512)]),_:1}),e(oe,{class:"pa-0"},{default:a(()=>[e(B,{"prepend-icon":u.value.isExist?"mdi-update":"mdi-content-save",variant:"flat",color:u.value.isExist?"secondary":"success",onClick:h[0]||(h[0]=d=>u.value.isExist?A():U())},{default:a(()=>[N(P(u.value.isExist?"Update Interview":"Create Interview"),1)]),_:1},8,["prepend-icon","color"])]),_:1})]),_:1})]),e(xe,{snackBarData:i.value},null,8,["snackBarData"])],64))}},ka=l("h1",null,"MSWD Classification:",-1),Na={class:"d-flex justify-center align-center ga-2"},Ma={class:"text-subtitle-1"},Fa={__name:"mswdClassification",props:{patientId:Number},setup(n){const r=n;Q(async()=>{await A()}),V(!1);const t=V({update:{isActive:!1,text:"MSWD Classification Updated"},create:{isActive:!1,text:"MSWD Classification Created"}});let i=V({patient_id:r.patientId,isExisting:!1});const u=V({mainClassification:{label:"Main Classification",items:[{text:"Financially Capable",value:"A"},{text:"Financially Capacitated",value:"B"},{text:"Financially Incapable",value:"C1"},{text:"Financially Incapacitated",value:"C2"},{text:"Indigent",value:"C3"}]},subClassification:{label:"Sub Classification",items:["C1","C2","C3","D"],data:null},sectors:{label:"Sectors",items:["Artisanal Fisher folk","Farmer and Landless Rural Worker","Urban Poor","Indigenous Peoples","Senior Citizen","Formal Labor and Migrant Workers","Workers in Informal Sector","PWD","Victims of Disaster and Calamity","Children in need of special protection","Youth in need of special protection","Women in especially difficult circumstance","Family Head & Other Needy Adult","Personnel","Personnel dependent","4Ps","Government employee"],data:null},remarks:{label:"Remarks",data:null}}),v=async()=>{const o=await qt(i.value);console.log("updated",o),t.value.update.isActive=!0},g=async()=>{i.value.patient_id=r.patientId;const o=await Wt(i.value);i.value.haveClassification=!0,t.value.create.isActive=!0,i.value.isExisting=!0,console.log(o)},U=async()=>{if(!i.value.isExisting){await g();return}await v()},A=async()=>{const o=await $e(r.patientId);if(!o){console.log("No MSWD Classification");return}i.value=o,i.value.membership_to_marginalized_sector===""&&(i.value.membership_to_marginalized_sector=null),i.value.isExisting=!0};return(o,h)=>(s(),y(w,null,[l("div",null,[e(z,{style:{width:"1000px"}},{default:a(()=>[ka,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,{cols:"12"},{default:a(()=>[e(Pe,{label:"Main Classification",modelValue:H(i).main_classification_type,"onUpdate:modelValue":h[0]||(h[0]=d=>H(i).main_classification_type=d),items:u.value.mainClassification.items,"item-title":"text","item-value":"value",variant:"outlined",density:"comfortable",clearable:""},null,8,["modelValue","items"]),e(Pe,{modelValue:H(i).sub_classification_type,"onUpdate:modelValue":h[1]||(h[1]=d=>H(i).sub_classification_type=d),label:u.value.subClassification.label,density:"comfortable",variant:"outlined",clearable:"",items:u.value.subClassification.items},null,8,["modelValue","label","items"]),e(Z,{multiple:"",chips:"","closable-chips":"",variant:"outlined",label:"Sectors",items:u.value.sectors.items,modelValue:H(i).membership_to_marginalized_sector,"onUpdate:modelValue":h[2]||(h[2]=d=>H(i).membership_to_marginalized_sector=d),hint:"Specify Other"},null,8,["items","modelValue"]),e(fe,{modelValue:H(i).remarks,"onUpdate:modelValue":h[3]||(h[3]=d=>H(i).remarks=d),label:u.value.remarks.label,variant:"outlined"},null,8,["modelValue","label"])]),_:1})]),_:1}),e(B,{"prepend-icon":H(i).isExisting?"mdi-update":"mdi-content-save",color:"secondary",onClick:U},{default:a(()=>[N(P(H(i).isExisting?"Update Classification":"Create Classification"),1)]),_:1},8,["prepend-icon"])]),_:1})]),(s(!0),y(w,null,C(t.value,(d,I)=>(s(),M(ne,{key:I,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:d.isActive,"onUpdate:modelValue":f=>d.isActive=f},{default:a(()=>[l("div",Na,[e(G,{icon:"mdi-check-bold"}),l("p",Ma,P(d.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))],64))}},Ea=l("h2",null,"Personal Data:",-1),Ra=l("h2",null,"Remarks:",-1),La=l("h2",null,"Address:",-1),$a=l("h3",null,"Permanent",-1),Ha=l("h3",null,"Temporary",-1),Ba=l("h2",null,"Family Composition:",-1),ja={class:"d-flex justify-end"},Oa={class:"d-flex"},Wa={class:"d-flex justify-center align-center ga-2"},qa={class:"text-subtitle-1"},Ga={class:"d-flex ga-2 flex-wrap"},Ja={class:"d-flex ga-2 flex-wrap"},za=l("h3",null,"Delete family member:",-1),Ya=l("p",null,"Are you sure you want to delete this family member?",-1),Ka={__name:"personalData",props:{patientId:Number},setup(n){const r=n;Q(async()=>{await Qe(),await Ze(),await et(),await Xe()});let t=V([]),i=V({addressExist:!1}),u=V([{patient_id:r.patientId,region:"",province:"",district:"",municipality:"",barangay:"",purok:"",address_type:"permanent"},{patient_id:r.patientId,region:"",province:"",district:"",municipality:"",barangay:"",purok:"",address_type:"temporary"}]),v=V([]),g=V([]),U=V([]),A=V([]),o=V([]),h=V([]),d=V({});V({});const I=V(null);let f=V({});const F=V(null),_=V(0),m=[{title:"Fullname",value:"full_name"},{title:"Age",value:"age"},{title:"Birth Date",value:"birth_date"},{title:"Civil Status",value:"civil_status"},{title:"Relationship",value:"relationship"},{title:"Educational Attainment",value:"educational_attainment"},{title:"Occupation",value:"occupation"},{title:"Monthly Income",value:"monthly_income"},{title:"Operation",value:"operation"}],p={personalData:{title:"Personal Data"},addressData:{title:"Address Data"},familyComposition:{title:"Family Composition"}},c=V({personalData:{isActive:!1,text:"Personal Data Updated"},addressData:{isActive:!1,text:"Address Updated"},createFamilyMember:{isActive:!1,text:"Family Member Added"},updateFamilyMember:{isActive:!1,text:"Family Member Updated"},deleteFamilyMember:{isActive:!1,text:"Family Member Deleted"}}),b=V({addFamily:!1,editFamily:!1,deleteFamily:!1}),D=V({personalData:{textField:{first_name:{label:"First Name",type:"text",rules:[L.required]},middle_name:{label:"Middle Name",type:"text"},last_name:{label:"Last Name",type:"text",rules:[L.required]},age:{label:"Age",type:"text"},birth_date:{label:"Birth Date",type:"date"},religion:{label:"Religion",type:"text"},contact_number:{label:"Contact Number",type:"text"},occupation:{label:"Occupation",type:"text"},monthly_income:{label:"Monthly Income",type:"text"},ph_membership_number:{label:"PH Membership Number",type:"text"},ph_membership_type:{label:"PH Membership",type:"text"}},comboField:{gender:{label:"Gender Identity",items:["Masculine","Feminine","LGBTQIA+","Other"]},sex:{label:"Sex",items:["Male","Female"]},nationality:{label:"Nationality",items:["Filipino","Other"]},civil_status:{label:"Civil Status",items:["Single","Married","Widowed","Divorced","Annulled","Common Law OS","Common Law SS","Separated Legally","Separated De Facto"]},living_arrangement:{label:"Living Arrangement",items:["owned","shared","rent","homeless","institutionalized","others"]},highest_education_level:{label:"Education",items:["Early Childhood Education","Primary","Secondary","Tertiary","Vocational","Post Graduate","No Educational Attainment"]},education_status:{label:"Education Status",items:["OnGoing","Graduated","Stopped","Others"]}}},familyComposition:{full_name:{label:"FullName",type:"text",data:"",rules:[L.required]},age:{label:"Age",type:"text",inputType:"number",data:"",rules:[L.required]},birth_date:{label:"Birth Date",type:"text",inputType:"date",data:"",rules:[L.required]},civil_status:{label:"Civil Status",type:"select",data:"",rules:[L.required],items:["Single","Married","Widowed","Divorced","Annulled","Common Law OS","Common Law SS","Separated Legally","Separated De Facto"]},relationship:{label:"Relationship",type:"select",data:"",rules:[L.required],items:["Father","Mother","Son","Daughter","Brother","Sister","Grandfather","Grandmother","Grandson","Granddaughter","Uncle","Aunt","Nephew","Niece","Cousin","Spouse","In-Law","Others"]},educational_attainment:{label:"Educational Attainment",type:"select",data:"",rules:[L.required],items:["Early Childhood Education","Primary","Secondary","Tertiary","Vocational","Post Graduate","No Educational Attainment"]},occupation:{label:"Occupation",type:"text",data:"",rules:[L.required]},monthly_income:{label:"Monthly Income",type:"text",data:"",rules:[L.required],inputType:"number"}},address:{permanent:{region:{label:"Region",items:t,title:"regDesc"},province:{label:"Province",items:v,title:"provDesc"},district:{label:"District"},municipality:{label:"Municipality",items:g,title:"citymunDesc"},barangay:{label:"Barangay",items:U,title:"brgyDesc"},purok:{label:"Purok"}},temporary:{region:{label:"Region",items:t,title:"regDesc"},province:{label:"Province",items:A,title:"provDesc"},district:{label:"District"},municipality:{label:"Municipality",items:o,title:"citymunDesc"},barangay:{label:"Barangay",items:h,title:"brgyDesc"},purok:{label:"Purok"}}}}),S=async $=>!!(await $.value.validate()).valid,E=$=>{f.value=$,b.value.editFamily=!0},le=$=>{f.value=$,b.value.deleteFamily=!0},_e=async()=>{if(!i.value.addressExist){await Ke();return}await at()},Ye=async()=>{const $=await S(I);if(console.log($),!$)return;let R={};for(const T in D.value.familyComposition)R[T]=D.value.familyComposition[T].data;R.patient_id=r.patientId,console.log(R);const x=await Rt(R);x&&(c.value.createFamilyMember.isActive=!0,d.value.push(x),b.value.addFamily=!1)},Ke=async()=>{console.log("Creating Patient Address"),await Ot(u.value)&&(c.value.addressData.isActive=!0,u.value.addressExist=!0)},Qe=async()=>{const $=await Ee(r.patientId);i.value=$},Xe=async()=>{const $=await Bt(r.patientId);if(!$){console.log("no address data");return}i.value.addressExist=!0,u.value=$},Ze=async()=>{const $=await Le(r.patientId);d.value=$},et=async()=>{const $=await Ht();t.value=$},se=($,R,x,T)=>{It(()=>u.value[$][R],async q=>{T.value=await x(q)})};se(0,"region",ke,v),se(0,"province",Ne,g),se(0,"municipality",Me,U),se(1,"region",ke,A),se(1,"province",Ne,o),se(1,"municipality",Me,h);const tt=async()=>{if(!await S(F))return;await Ct(i.value)&&(c.value.personalData.isActive=!0)},at=async()=>{console.log("Update"),console.log(u.value),await jt(u.value)&&(c.value.addressData.isActive=!0)},lt=async()=>{if(!await S(I))return;await Lt(f.value)&&(c.value.updateFamilyMember.isActive=!0,b.value.editFamily=!1)},nt=async()=>{const $=f.value.id;await $t($)&&(d.value=d.value.filter(x=>x.id!==$),c.value.deleteFamilyMember.isActive=!0,b.value.deleteFamily=!1)};return($,R)=>(s(),y(w,null,[l("div",null,[e(Ve,{class:"tabs",modelValue:_.value,"onUpdate:modelValue":R[0]||(R[0]=x=>_.value=x),"align-tabs":"center",color:"black",density:"compact"},{default:a(()=>[(s(),y(w,null,C(p,(x,T)=>e(we,{value:x.value,key:T},{default:a(()=>[N(P(x.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e(me,{class:"",modelValue:_.value,"onUpdate:modelValue":R[3]||(R[3]=x=>_.value=x)},{default:a(()=>[e(J,{value:0},{default:a(()=>[e(z,{style:{width:"1000px"}},{default:a(()=>[e(de,{ref_key:"personalForm",ref:F},{default:a(()=>[Ea,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex ga-2 flex-wrap"},{default:a(()=>[(s(!0),y(w,null,C(D.value.personalData.textField,(x,T)=>(s(),M(Y,{key:T,label:x.label,type:x.type,variant:"outlined",style:{width:"300px"},density:"compact",modelValue:H(i)[T],"onUpdate:modelValue":q=>H(i)[T]=q,rules:x.rules},null,8,["label","type","modelValue","onUpdate:modelValue","rules"]))),128)),(s(!0),y(w,null,C(D.value.personalData.comboField,(x,T)=>(s(),M(Z,{key:T,label:x.label,items:x.items,variant:"outlined",style:{width:"300px"},density:"compact",modelValue:H(i)[T],"onUpdate:modelValue":q=>H(i)[T]=q},null,8,["label","items","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),Ra,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,{cols:"12"},{default:a(()=>[e(fe,{modelValue:H(i).remarks,"onUpdate:modelValue":R[1]||(R[1]=x=>H(i).remarks=x),label:"Remarks",rows:"5","auto-grow":"",style:{"min-width":"300px"},variant:"outlined",counter:"255"},null,8,["modelValue"])]),_:1})]),_:1}),e(B,{color:"secondary","prepend-icon":"mdi-update",onClick:tt,class:"my-5"},{default:a(()=>[N("Update Personal Data")]),_:1})]),_:1},512)]),_:1})]),_:1}),e(J,{value:1},{default:a(()=>[e(z,{style:{width:"1000px"}},{default:a(()=>[La,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[$a,e(W,{cols:"12",class:"d-flex flex-wrap ga-2"},{default:a(()=>[(s(!0),y(w,null,C(D.value.address.permanent,(x,T)=>(s(),M(Z,{key:T,label:x.label,variant:"outlined",items:x.items,"item-title":x.title,style:{width:"350px"},"return-object":!1,modelValue:H(u)[0][T],"onUpdate:modelValue":q=>H(u)[0][T]=q,density:"compact"},null,8,["label","items","item-title","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),e(O,{class:"my-5"}),e(j,null,{default:a(()=>[Ha,e(W,{cols:"12",class:"d-flex flex-wrap ga-2"},{default:a(()=>[(s(!0),y(w,null,C(D.value.address.temporary,(x,T)=>(s(),M(Z,{key:T,label:T,variant:"outlined",items:x.items,"item-title":x.title,"item-value":x.value,"return-object":!1,modelValue:H(u)[1][T],"onUpdate:modelValue":q=>H(u)[1][T]=q,style:{width:"350px"},density:"compact"},null,8,["label","items","item-title","item-value","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),e(B,{color:"secondary",onClick:_e,"prepend-icon":"mdi-update",class:"mb-5"},{default:a(()=>[N(P((H(i).addressExist,"Update Address")),1)]),_:1})]),_:1})]),_:1}),e(J,{value:2},{default:a(()=>[e(z,{style:{width:"90%"}},{default:a(()=>[Ba,e(O,{class:"mb-5"}),l("div",ja,[e(B,{color:"grey",onClick:R[2]||(R[2]=x=>b.value.addFamily=!b.value.addFamily),"prepend-icon":"mdi-account-plus",size:"small",class:"mb-5"},{default:a(()=>[N("Add family member")]),_:1})]),e(Ie,{headers:m,items:H(d),"items-per-page":5,class:"elevation-1"},{"item.operation":a(({item:x})=>[l("div",Oa,[e(B,{onClick:T=>E(x),flat:""},{default:a(()=>[e(G,{color:"primary"},{default:a(()=>[N("mdi-pencil")]),_:1})]),_:2},1032,["onClick"]),e(B,{onClick:T=>le(x),flat:""},{default:a(()=>[e(G,{color:"error"},{default:a(()=>[N("mdi-delete")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(s(!0),y(w,null,C(c.value,(x,T)=>(s(),M(ne,{key:T,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:x.isActive,"onUpdate:modelValue":q=>x.isActive=q},{default:a(()=>[l("div",Wa,[e(G,{icon:"mdi-check-bold"}),l("p",qa,P(x.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]),e(ae,{modelValue:b.value.addFamily,"onUpdate:modelValue":R[5]||(R[5]=x=>b.value.addFamily=x),width:"600px",persistent:""},{default:a(()=>[e(X,null,{default:a(()=>[e(re,{color:"secondary",class:"px-5"},{default:a(()=>[e(G,null,{default:a(()=>[N("mdi-account-plus")]),_:1}),e(ce,{class:""},{default:a(()=>[N("Add Family Member")]),_:1}),e(G,{onClick:R[4]||(R[4]=x=>b.value.addFamily=!b.value.addFamily)},{default:a(()=>[N("mdi-close")]),_:1})]),_:1}),e(te,null,{default:a(()=>[e(de,{ref_key:"familyForm",ref:I},{default:a(()=>[l("div",Ga,[(s(!0),y(w,null,C(D.value.familyComposition,(x,T)=>(s(),y(w,null,[x.type==="text"?(s(),M(Y,{key:"text-"+T,label:x.label,density:"compact",variant:"outlined",type:x.inputType,modelValue:D.value.familyComposition[T].data,"onUpdate:modelValue":q=>D.value.familyComposition[T].data=q,rules:x.rules,style:{width:"250px"}},null,8,["label","type","modelValue","onUpdate:modelValue","rules"])):x.type==="select"?(s(),M(k,{key:"select-"+T,label:x.label,items:x.items,density:"compact",variant:"outlined",type:x.inputType,rules:x.rules,modelValue:D.value.familyComposition[T].data,"onUpdate:modelValue":q=>D.value.familyComposition[T].data=q,style:{width:"250px"}},null,8,["label","items","type","rules","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),256))])]),_:1},512)]),_:1}),e(oe,{class:"d-flex justify-end"},{default:a(()=>[e(B,{color:"primary",onClick:Ye},{default:a(()=>[N("Create")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ae,{modelValue:b.value.editFamily,"onUpdate:modelValue":R[7]||(R[7]=x=>b.value.editFamily=x),width:"600px",persistent:""},{default:a(()=>[e(X,null,{default:a(()=>[e(re,{color:"secondary",class:"px-5"},{default:a(()=>[e(G,null,{default:a(()=>[N("mdi-account-edit")]),_:1}),e(ce,{class:""},{default:a(()=>[N("Edit Family Member")]),_:1}),e(G,{onClick:R[6]||(R[6]=x=>b.value.editFamily=!b.value.editFamily)},{default:a(()=>[N("mdi-close")]),_:1})]),_:1}),e(te,null,{default:a(()=>[e(de,{ref_key:"familyForm",ref:I},{default:a(()=>[l("div",Ja,[(s(!0),y(w,null,C(D.value.familyComposition,(x,T)=>(s(),y(w,null,[x.type==="text"?(s(),M(Y,{key:"text-"+T,label:x.label,density:"compact",variant:"outlined",type:x.inputType,modelValue:H(f)[T],"onUpdate:modelValue":q=>H(f)[T]=q,rules:x.rules,style:{width:"250px"}},null,8,["label","type","modelValue","onUpdate:modelValue","rules"])):x.type==="select"?(s(),M(k,{key:"select-"+T,label:x.label,items:x.items,density:"compact",variant:"outlined",type:x.inputType,rules:x.rules,modelValue:H(f)[T],"onUpdate:modelValue":q=>H(f)[T]=q,style:{width:"250px"}},null,8,["label","items","type","rules","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),256))])]),_:1},512)]),_:1}),e(oe,{class:"d-flex justify-end"},{default:a(()=>[e(B,{color:"primary",onClick:lt},{default:a(()=>[N("Update")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ae,{modelValue:b.value.deleteFamily,"onUpdate:modelValue":R[9]||(R[9]=x=>b.value.deleteFamily=x),width:"600px",persistent:"","max-width":"600px"},{default:a(()=>[e(X,null,{default:a(()=>[e(Vt,{"primary-title":""},{default:a(()=>[za]),_:1}),e(te,null,{default:a(()=>[Ya]),_:1}),e(oe,{class:"d-flex justify-end"},{default:a(()=>[e(B,{color:"error",onClick:R[8]||(R[8]=x=>b.value.deleteFamily=!1)},{default:a(()=>[N("Cancel")]),_:1}),e(B,{color:"primary",onClick:nt},{default:a(()=>[N("Delete")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Qa=l("h1",null,"Monthly Expenses:",-1),Xa={__name:"MonthlyExpenses",props:{patientId:Number},setup(n){const r=V({}),t=n,i=K(()=>{let o=0;for(let h in u.value.number)o+=Number(u.value.number[h]);return o}),u=V({isExist:!1,id:t.patientId,number:{house_lot_cost:"",food_water_cost:"",education_cost:"",clothing_cost:"",communication_cost:"",others_cost:"",house_help_cost:"",medical_cost:"",transportation_cost:"",light_source_cost:"",fuel_source_cost:"",water_source_cost:""},text:{}}),v=V({row1:{house_lot_cost:{label:"House and Lot Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},food_water_cost:{label:"Food and Water Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},education_cost:{label:"Education Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},clothing_cost:{label:"Clothing Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},communication_cost:{label:"Communication Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},house_help_cost:{label:"House Help Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},transportation_type:{label:"Transportation Type",type:"select",items:["Jeep","Bus","Tricycle","Taxi","Motorcycle","Boat","Habal-habal","Bicycle"]},transportation_cost:{label:"Transportation Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},others_description:{label:"Others. Please specify:",type:"combobox"},others_cost:{label:"Others Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},medical_cost:{label:"Medical Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"}},row2:{light_source_type:{label:"Light Sources",type:"combobox",items:["Electricity","Kerosene","Candles","Solar"]},light_source_cost:{label:"Light Source Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},fuel_source_type:{label:"Fuel Sources",type:"combobox",items:["Gas","Kerosene","Charcoal"]},fuel_source_cost:{label:"Fuel Source Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"},water_source_type:{label:"Water Sources",type:"combobox",items:["Tap","Deep Well","Spring","River","Public Artisan Well","Private Artisan Well","Water District"]},water_source_cost:{label:"Water Source Cost",inputType:"Number",rules:[L.invalidNegative],type:"text"}},totalCost:{label:"Total Cost",type:"text"}}),g=async()=>{const o=i.value;u.value.total_cost=o,await Gt(u.value)&&(r.value=ue("success","Data Created Successfully"),u.value.isExist=!0)},U=async()=>{const o=await He(t.patientId);o&&(u.value={isExist:!0,id:o.id,number:{house_lot_cost:o.house_lot_cost,food_water_cost:o.food_water_cost,education_cost:o.education_cost,clothing_cost:o.clothing_cost,communication_cost:o.communication_cost,house_help_cost:o.house_help_cost,transportation_cost:o.transportation_cost,others_cost:o.others_cost,medical_cost:o.medical_cost,light_source_cost:o.light_source_cost,fuel_source_cost:o.fuel_source_cost,water_source_cost:o.water_source_cost},text:{transportation_type:o.transportation_type,others_description:o.others_description,light_source_type:o.light_source_type,fuel_source_type:o.fuel_source_type,water_source_type:o.water_source_type}},console.log(u.value))},A=async()=>{const o=i.value;u.value.total_cost=o,await Jt(u.value)&&(r.value=ue("success","Data Updated Successfully"))};return Q(async()=>{await U()}),(o,h)=>(s(),y(w,null,[l("div",null,[e(z,{style:{width:"1000px"}},{default:a(()=>[Qa,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex ga-2 flex-wrap"},{default:a(()=>[(s(!0),y(w,null,C(v.value.row1,(d,I)=>(s(),y(w,null,[d.type==="text"?(s(),M(Y,{key:"text-"+I,label:d.label,"hide-spin-buttons":!0,variant:"outlined",type:d.inputType,style:{width:"400px"},prefix:"₱",rules:d.rules,modelValue:u.value.number[I],"onUpdate:modelValue":f=>u.value.number[I]=f,density:"comfortable"},null,8,["label","type","rules","modelValue","onUpdate:modelValue"])):d.type==="select"?(s(),M(k,{multiple:"",chips:"","closable-chips":"",key:"select-"+I,label:d.label,items:d.items,variant:"outlined",style:{width:"400px"},modelValue:u.value.text[I],"onUpdate:modelValue":f=>u.value.text[I]=f,density:"comfortable"},null,8,["label","items","modelValue","onUpdate:modelValue"])):ee("",!0),d.type==="combobox"?(s(),M(Z,{key:"combobox-"+I,label:d.label,items:d.items,modelValue:u.value.text[I],"onUpdate:modelValue":f=>u.value.text[I]=f,variant:"outlined",style:{width:"400px"},density:"comfortable",multiple:"",chips:"","closable-chips":""},null,8,["label","items","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),256))]),_:1})]),_:1}),e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex ga-2 flex-wrap"},{default:a(()=>[(s(!0),y(w,null,C(v.value.row2,(d,I)=>(s(),y(w,null,[d.type==="combobox"?(s(),M(Z,{key:"combobox-"+I,label:d.label,items:d.items,modelValue:u.value.text[I],"onUpdate:modelValue":f=>u.value.text[I]=f,variant:"outlined",style:{width:"400px"},density:"comfortable",multiple:"",chips:"","closable-chips":""},null,8,["label","items","modelValue","onUpdate:modelValue"])):d.type==="text"?(s(),M(Y,{key:"text-"+I,label:d.label,"hide-spin-buttons":!0,variant:"outlined",type:d.inputType,style:{width:"400px"},prefix:"₱",rules:d.rules,modelValue:u.value.number[I],"onUpdate:modelValue":f=>u.value.number[I]=f,density:"comfortable"},null,8,["label","type","rules","modelValue","onUpdate:modelValue"])):ee("",!0)],64))),256))]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(W,{cols:"12"},{default:a(()=>[e(Y,{prefix:"₱",label:"Total Cost",variant:"outlined",readonly:"",modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=d=>i.value=d)},null,8,["modelValue"])]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(W,{cols:"12"},{default:a(()=>[e(B,{variant:"flat","prepend-icon":u.value.isExist?"mdi-update":"mdi-content-save",color:(u.value.isExist,"secondary"),onClick:h[1]||(h[1]=d=>u.value.isExist?A():g())},{default:a(()=>[N(P(u.value.isExist?"Update Monthly Expenses":"Create Monthly Expenses"),1)]),_:1},8,["prepend-icon","color"])]),_:1})]),_:1})]),_:1})]),e(xe,{snackBarData:r.value},null,8,["snackBarData"])],64))}},Za=l("h1",null,"Medical Data",-1),el={class:"d-flex justify-center align-center ga-2"},tl={class:"text-subtitle-1"},al={__name:"MedicalData",props:{patientId:Number},setup(n){const r=n;Q(async()=>{await v()});const t=V({update:{isActive:!1,text:"Medical Data Updated"},create:{isActive:!1,text:"Medical Data Created"}}),i=V({isExist:!1,patient_id:r.patientId}),u={admitting_diagnosis:{label:"Admitting Diagnosis"},final_diagnosis:{label:"Final Diagnosis"},duration_of_problems:{label:"Duration of Problems"},previous_treatment:{label:"Previous Treatment"},present_treatment_plan:{label:"Present Treatment Plan"},health_accessibility_problem:{label:"Health Accessibility Problem"}},v=async()=>{const d=await Be(r.patientId);d&&g(d)},g=d=>{i.value=d,i.value.isExist=!0},U=async()=>{console.log("createMedicalDataItem"),await zt(i.value)&&(i.value.isExist=!0,o("create"))},A=async()=>{console.log("updateMedicalDataItem"),await Yt(i.value)&&o("update")},o=d=>{t.value[d].isActive=!0},h=async()=>{if(i.value.isExist){await A();return}await U()};return(d,I)=>(s(),y("div",null,[e(z,{style:{width:"1500px"}},{default:a(()=>[Za,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex flex-wrap ga-2"},{default:a(()=>[(s(),y(w,null,C(u,(f,F)=>e(fe,{key:F,label:f.label,variant:"outlined",modelValue:i.value[F],"onUpdate:modelValue":_=>i.value[F]=_,style:{width:"500px"},class:"",type:"number",density:"comfortable"},null,8,["label","modelValue","onUpdate:modelValue"])),64))]),_:1})]),_:1}),e(B,{"prepend-icon":i.value.isExist?"mdi-update":"mdi-content-save",color:"secondary",onClick:h},{default:a(()=>[N(P(i.value.isExist?"Update Medical Data":"Create Medical Data"),1)]),_:1},8,["prepend-icon"])]),_:1}),(s(!0),y(w,null,C(t.value,(f,F)=>(s(),M(ne,{key:F,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:f.isActive,"onUpdate:modelValue":_=>f.isActive=_},{default:a(()=>[l("div",el,[e(G,{icon:"mdi-check-bold"}),l("p",tl,P(f.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]))}},ll=l("h1",null,"Health and Mental Health",-1),nl=l("thead",null,[l("tr",null,[l("th",null,"Particulars"),l("th",null,"Severity Index"),l("th",null,"Duration Index"),l("th",null,"Coping Index")])],-1),il={class:"d-flex justify-center align-center ga-2"},sl={class:"text-subtitle-1"},ol={__name:"HealthAndMentalHealth",props:{patientId:Number},setup(n){const r=n;Q(async()=>{await A()});const t=V({isExist:!1,patient_id:r.patientId,abscence_of_adequate_health_services:{severity:"",duration:"",coping:""},abscence_of_support_health_services:{severity:"",duration:"",coping:""},absence_of_adequate_mental_services:{severity:"",duration:"",coping:""},absence_of_support_mental_services:{severity:"",duration:"",coping:""},inaccessibility_of_health_services:{severity:"",duration:"",coping:""},inaccessibility_of_mental_services:{severity:"",duration:"",coping:""}}),i=V({update:{isActive:!1,text:"Health and Mental Health Updated"},create:{isActive:!1,text:"Health and Mental Health Created"}}),u={severity:[{text:"No Problem",value:1},{text:"Low",value:2},{text:"Moderate",value:3},{text:"High",value:4},{text:"Very High",value:5},{text:"Catastropic",value:4}],duration:[{text:"More than 5 years",value:1},{text:"1 to 5 years",value:2},{text:"6 months to 1 year",value:3},{text:"1 to 6 months",value:4},{text:"2 weeks to 1 month",value:5},{text:"less than 2 weeks",value:6}],coping:[{text:"Outstanding",value:1},{text:"Above Average",value:2},{text:"Adequate",value:3},{text:"Somewhat Inadequate",value:4},{text:"Inadequate",value:5},{text:"No Coping Skills",value:6}]},v={abscence_of_adequate_health_services:{label:"Abscence of Adequate Health Services",severity:"",duration:"",coping:""},abscence_of_support_health_services:{label:"Abscence of Support Health Services"},absence_of_adequate_mental_services:{label:"Abscence of Adequate Mental Services"},absence_of_support_mental_services:{label:"Abscence of Support Mental Services"},inaccessibility_of_health_services:{label:"Inaccessibility of Health Services"},inaccessibility_of_mental_services:{label:"Inaccessibility of Mental Services"}},g=async()=>{console.log("asdfsad"),console.log("createHealthAndMentalHealthItem"),await Kt(t.value)&&(t.value.isExist=!0,o("create"))},U=async()=>{console.log("updateHealthAndMentalHealthItem"),await Qt(t.value)&&o("update")},A=async()=>{const I=await je(r.patientId);I&&h(I)},o=I=>{i.value[I].isActive=!0},h=I=>{t.value=I,t.value.isExist=!0},d=async()=>{t.value.isExist?await U():await g()};return(I,f)=>(s(),y("div",null,[e(z,{style:{width:"1300px"}},{default:a(()=>[ll,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,null,{default:a(()=>[e(ie,null,{default:a(()=>[nl,l("tbody",null,[(s(),y(w,null,C(v,(F,_)=>l("tr",{key:_},[l("th",null,P(F.label),1),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:u.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[_].severity,"onUpdate:modelValue":m=>t.value[_].severity=m},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:u.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[_].duration,"onUpdate:modelValue":m=>t.value[_].duration=m},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:u.coping,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[_].coping,"onUpdate:modelValue":m=>t.value[_].coping=m},null,8,["items","modelValue","onUpdate:modelValue"])])])),64))])]),_:1})]),_:1})]),_:1}),e(B,{"prepend-icon":t.value.isExist?"mdi-update":"mdi-pencil",color:"secondary",onClick:d},{default:a(()=>[N(P(t.value.isExist?"Update Health and  Mental Health":"Create Health and Mental Health"),1)]),_:1},8,["prepend-icon"])]),_:1}),(s(!0),y(w,null,C(i.value,(F,_)=>(s(),M(ne,{key:_,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:F.isActive,"onUpdate:modelValue":m=>F.isActive=m},{default:a(()=>[l("div",il,[e(G,{icon:"mdi-check-bold"}),l("p",sl,P(F.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]))}},rl=l("h1",null,"Discrimination",-1),ul={class:"d-flex justify-center align-center ga-2"},dl={class:"text-subtitle-1"},cl={__name:"Discrimination",props:{patientId:Number},setup(n){const r=n;Q(async()=>{await o()});const t=V({isExist:!1,patient_id:r.patientId,Age:{severity:"",duration:"",coping:""},Ethnicity:{severity:"",duration:"",coping:""},Religion:{severity:"",duration:"",coping:""},Sex:{severity:"",duration:"",coping:""},Sexual_Orientation:{severity:"",duration:"",coping:""},Lifestyle:{severity:"",duration:"",coping:""},NonCitizen:{severity:"",duration:"",coping:""},Veteran_Status:{severity:"",duration:"",coping:""},Dependency_Status:{severity:"",duration:"",coping:""},Disability_Status:{severity:"",duration:"",coping:""},Marital_Status:{severity:"",duration:"",coping:""}}),i=V({update:{isActive:!1,text:"Discrimination Updated"},create:{isActive:!1,text:"Discrimination Health Created"}}),u=["Particulars","Severity Index","Duration Index","Coping Index"],v={severity:[{text:"No Problem",value:1},{text:"Low",value:2},{text:"Moderate",value:3},{text:"High",value:4},{text:"Very High",value:5},{text:"Catastropic",value:4}],duration:[{text:"More than 5 years",value:1},{text:"1 to 5 years",value:2},{text:"6 months to 1 year",value:3},{text:"1 to 6 months",value:4},{text:"2 weeks to 1 month",value:5},{text:"less than 2 weeks",value:6}],coping:[{text:"Outstanding",value:1},{text:"Above Average",value:2},{text:"Adequate",value:3},{text:"Somewhat Inadequate",value:4},{text:"Inadequate",value:5},{text:"No Coping Skills",value:6}]},g={Age:{label:"Age"},Ethnicity:{label:"Ethnicity"},Religion:{label:"Religion"},Sex:{label:"Sex"},Sexual_Orientation:{label:"Sexual Orientation"},Lifestyle:{label:"Lifestyle"},NonCitizen:{label:"Non-Citizen"},Veteran_Status:{label:"Veteran Status"},Dependency_Status:{label:"Dependency Status"},Disability_Status:{label:"Disability"},Marital_Status:{label:"Marital Status"}},U=async()=>{const f=await Xt(t.value);console.log("response",f),f&&(t.value.isExist=!0,h("create"))},A=async()=>{console.log("Update Discrimination"),await Zt(t.value)&&h("update")},o=async()=>{const f=await Oe(r.patientId);f&&d(f)},h=f=>{i.value[f].isActive=!0},d=f=>{t.value=f,t.value.isExist=!0},I=async()=>{t.value.isExist?await A():await U()};return(f,F)=>(s(),y("div",null,[e(z,{style:{width:"1000px"}},{default:a(()=>[rl,e(O,{class:"mb-5"}),e(j,null,{default:a(()=>[e(W,null,{default:a(()=>[e(ie,{density:"compact"},{default:a(()=>[l("thead",null,[l("tr",null,[(s(),y(w,null,C(u,(_,m)=>l("th",{key:m,class:"text-left"},P(_),1)),64))])]),l("tbody",null,[(s(),y(w,null,C(g,(_,m)=>l("tr",{key:m},[l("th",null,P(_.label),1),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:v.severity,modelValue:t.value[m].severity,"onUpdate:modelValue":p=>t.value[m].severity=p,"item-title":"text","item-value":"value",style:{width:"200px"}},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:v.duration,"item-title":"text","item-value":"value",modelValue:t.value[m].duration,"onUpdate:modelValue":p=>t.value[m].duration=p,style:{width:"200px"}},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:v.coping,"item-title":"text",modelValue:t.value[m].coping,"onUpdate:modelValue":p=>t.value[m].coping=p,"item-value":"value",style:{width:"200px"}},null,8,["items","modelValue","onUpdate:modelValue"])])])),64))])]),_:1})]),_:1})]),_:1}),e(B,{"prepend-icon":t.value.isExist?"mdi-update":"mdi-content-save",color:"secondary",onClick:I},{default:a(()=>[N(P(t.value.isExist?"Update Discrimination Data":"Create Discrimination Data"),1)]),_:1},8,["prepend-icon"])]),_:1}),(s(!0),y(w,null,C(i.value,(_,m)=>(s(),M(ne,{key:m,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:_.isActive,"onUpdate:modelValue":p=>_.isActive=p},{default:a(()=>[l("div",ul,[e(G,{icon:"mdi-check-bold"}),l("p",dl,P(_.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]))}},ml=l("h1",null,"Safety",-1),pl={class:"d-flex justify-center align-center ga-2"},vl={class:"text-subtitle-1"},yl={__name:"Safety",props:{patientId:Number},setup(n){const r=n;Q(async()=>{await o()});const t=V({isExist:!1,patient_id:r.patientId,voice_crime_in_community:{severity:"",duration:"",coping:""},unsafe_working_conditions:{severity:"",duration:"",coping:""},unsafe_codition_home:{severity:"",duration:"",coping:""},absence_of_adequate_safety_services:{severity:"",duration:"",coping:""},natural_disasters:{severity:"",duration:"",coping:""},human_created_disasters:{severity:"",duration:"",coping:""}}),i=V({update:{isActive:!1,text:"Safety Data Updated"},create:{isActive:!1,text:"Safety Data Created"}}),u=["Particulars","Severity Index","Duration Index","Coping Index"],v={severity:[{text:"No Problem",value:1},{text:"Low",value:2},{text:"Moderate",value:3},{text:"High",value:4},{text:"Very High",value:5},{text:"Catastropic",value:4}],duration:[{text:"More than 5 years",value:1},{text:"1 to 5 years",value:2},{text:"6 months to 1 year",value:3},{text:"1 to 6 months",value:4},{text:"2 weeks to 1 month",value:5},{text:"less than 2 weeks",value:6}],coping:[{text:"Outstanding",value:1},{text:"Above Average",value:2},{text:"Adequate",value:3},{text:"Somewhat Inadequate",value:4},{text:"Inadequate",value:5},{text:"No Coping Skills",value:6}]},g={voice_crime_in_community:{label:"Voice Crime in Community"},unsafe_working_conditions:{label:"Unsafe Working Conditions"},unsafe_codition_home:{label:"Unsafe Condition at Home"},absence_of_adequate_safety_services:{label:"Absence of Adequate Safety Services"},natural_disasters:{label:"Natural Disasters"},human_created_disasters:{label:"Human Created Disasters"}},U=async()=>{await ea(t.value)&&(t.value.isExist=!0,h("create"))},A=async()=>{console.log("update safety item"),await ta(t.value)&&h("update")},o=async()=>{const f=await We(r.patientId);f&&(console.log("response",f),d(f))},h=f=>{i.value[f].isActive=!0},d=f=>{t.value=f,t.value.isExist=!0},I=async()=>{if(t.value.isExist){await A();return}await U()};return(f,F)=>(s(),y("div",null,[e(z,{style:{width:"1000px"}},{default:a(()=>[ml,e(O,{class:"mb-5"}),e(ie,null,{default:a(()=>[l("thead",null,[l("tr",null,[(s(),y(w,null,C(u,(_,m)=>l("th",{key:m,class:"text-left"},P(_),1)),64))])]),l("tbody",null,[(s(),y(w,null,C(g,(_,m)=>l("tr",{key:m},[l("th",null,P(_.label),1),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:v.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].severity,"onUpdate:modelValue":p=>t.value[m].severity=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:v.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].duration,"onUpdate:modelValue":p=>t.value[m].duration=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:v.coping,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].coping,"onUpdate:modelValue":p=>t.value[m].coping=p},null,8,["items","modelValue","onUpdate:modelValue"])])])),64))])]),_:1}),e(B,{"prepend-icon":t.value.isExist?"mdi-update":"mdi-content-save",color:"secondary",onClick:I},{default:a(()=>[N(P(t.value.isExist?"Update Safety Data":"Create Safety Data"),1)]),_:1},8,["prepend-icon"])]),_:1}),(s(!0),y(w,null,C(i.value,(_,m)=>(s(),M(ne,{key:m,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:_.isActive,"onUpdate:modelValue":p=>_.isActive=p},{default:a(()=>[l("div",pl,[e(G,{icon:"mdi-check-bold"}),l("p",vl,P(_.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]))}},fl=l("h1",null,"Assesment of Social Functioning",-1),_l={class:""},hl=l("h3",null,"Familial Roles",-1),bl=l("h3",null,"Other Interpersonal Roles",-1),gl=l("h3",null,"Occupational Roles",-1),xl=l("h3",null,"Special Life Situation Roles",-1),wl={class:"d-flex justify-center align-center ga-2"},Vl={class:"text-subtitle-1"},Il={__name:"AssesmentSocialFunctioning",props:{patientId:Number},setup(n){const r=n,t=V({isExist:!1,patient_id:r.patientId,parent:{interaction:"",severity:"",duration:"",coping:""},spouse:{interaction:"",severity:"",duration:"",coping:""},child:{interaction:"",severity:"",duration:"",coping:""},sibling:{interaction:"",severity:"",duration:"",coping:""},other_family_member:{interaction:"",severity:"",duration:"",coping:""},significant_others:{interaction:"",severity:"",duration:"",coping:""},lover:{interaction:"",severity:"",duration:"",coping:""},friend:{interaction:"",severity:"",duration:"",coping:""},neighbor:{interaction:"",severity:"",duration:"",coping:""},member:{interaction:"",severity:"",duration:"",coping:""},worker_paid_economy:{interaction:"",severity:"",duration:"",coping:""},worker_home:{interaction:"",severity:"",duration:"",coping:""},worker_volunteer:{interaction:"",severity:"",duration:"",coping:""},student:{interaction:"",severity:"",duration:"",coping:""},consumer:{interaction:"",severity:"",duration:"",coping:""},inpatient:{interaction:"",severity:"",duration:"",coping:""},outpatient:{interaction:"",severity:"",duration:"",coping:""},er_patient:{interaction:"",severity:"",duration:"",coping:""},prisoner:{interaction:"",severity:"",duration:"",coping:""},immigrant_legal:{interaction:"",severity:"",duration:"",coping:""},immigrant_undocumented:{interaction:"",severity:"",duration:"",coping:""},imigrant_refugee:{interaction:"",severity:"",duration:"",coping:""}});Q(async()=>{await v()});const i=async()=>{const f=await aa(t.value);console.log("response",f),f&&(t.value.isExist=!0,g("create"))},u=async()=>{await la(t.value)&&g("update")},v=async()=>{const f=await qe(r.patientId);f&&U(f)},g=f=>{o.value[f].isActive=!0},U=f=>{t.value=f,t.value.isExist=!0},A=async()=>{if(t.value.isExist){await u();return}await i()},o=V({update:{isActive:!1,text:"Data Updated"},create:{isActive:!1,text:"Data Created"}}),h=["Particulars","Social Interaction Problem","Severity Index","Duration Index","Coping Index"],d={interaction_problem:[{text:"Power",value:1},{text:"Ambivalence",value:2},{text:"Responsibility",value:3},{text:"Dependency",value:4},{text:"Loss",value:5},{text:"Isolation",value:6},{text:"Victimization",value:7},{text:"Mixed Others",value:8}],severity:[{text:"No Problem",value:1},{text:"Low",value:2},{text:"Moderate",value:3},{text:"High",value:4},{text:"Very High",value:5},{text:"Catastropic",value:4}],duration:[{text:"More than 5 years",value:1},{text:"1 to 5 years",value:2},{text:"6 months to 1 year",value:3},{text:"1 to 6 months",value:4},{text:"2 weeks to 1 month",value:5},{text:"less than 2 weeks",value:6}],coping:[{text:"Outstanding",value:1},{text:"Above Average",value:2},{text:"Adequate",value:3},{text:"Somewhat Inadequate",value:4},{text:"Inadequate",value:5},{text:"No Coping Skills",value:6}]},I={familialRoles:{parent:{label:"Parent"},spouse:{label:"Spouse"},child:{label:"Child"},sibling:{label:"Sibling"},other_family_member:{label:"Other Family Member"},significant_others:{label:"Significant Other"}},interpersonalRoles:{lover:{label:"Lover"},friend:{label:"Friend"},neighbor:{label:"Neigbor"},member:{label:"Member"}},occupationalRoles:{worker_paid_economy:{label:"Work Paid Economy"},worker_home:{label:"Worker Home"},worker_volunteer:{label:"Worker Volunteer"},student:{label:"Student"}},specialLifeRoles:{consumer:{label:"Consumer"},inpatient:{label:"Inpatient"},outpatient:{label:"Outpatient"},er_patient:{label:"ER Patient"},prisoner:{label:"Prisoner"},immigrant_legal:{label:"Immigrant Legal"},immigrant_undocumented:{label:"Immigrant undocumented"},imigrant_refugee:{label:"Imigrant Refugee"}}};return(f,F)=>(s(),y("div",null,[e(z,{style:{width:"1500px"}},{default:a(()=>[fl,e(O,{class:"mb-5"}),e(ie,{density:"compact",class:"pa-5","fixed-header":"",hover:"true"},{default:a(()=>[l("thead",null,[l("tr",null,[(s(),y(w,null,C(h,(_,m)=>l("th",{key:m,class:"text-left"},P(_),1)),64))])]),l("tbody",_l,[hl,(s(!0),y(w,null,C(I.familialRoles,(_,m)=>(s(),y("tr",{key:m},[l("th",null,P(_.label),1),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.interaction_problem,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].interaction,"onUpdate:modelValue":p=>t.value[m].interaction=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].severity,"onUpdate:modelValue":p=>t.value[m].severity=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].duration,"onUpdate:modelValue":p=>t.value[m].duration=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.coping,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].coping,"onUpdate:modelValue":p=>t.value[m].coping=p},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),bl,(s(!0),y(w,null,C(I.interpersonalRoles,(_,m)=>(s(),y("tr",{key:m},[l("th",null,P(_.label),1),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.interaction_problem,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].interaction,"onUpdate:modelValue":p=>t.value[m].interaction=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].severity,"onUpdate:modelValue":p=>t.value[m].severity=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].duration,"onUpdate:modelValue":p=>t.value[m].duration=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.coping,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].coping,"onUpdate:modelValue":p=>t.value[m].coping=p},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),gl,(s(!0),y(w,null,C(I.occupationalRoles,(_,m)=>(s(),y("tr",{key:m},[l("th",null,P(_.label),1),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.interaction_problem,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].interaction,"onUpdate:modelValue":p=>t.value[m].interaction=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].severity,"onUpdate:modelValue":p=>t.value[m].severity=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].duration,"onUpdate:modelValue":p=>t.value[m].duration=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.coping,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].coping,"onUpdate:modelValue":p=>t.value[m].coping=p},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),xl,(s(!0),y(w,null,C(I.specialLifeRoles,(_,m)=>(s(),y("tr",{key:m},[l("th",null,P(_.label),1),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.interaction_problem,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].interaction,"onUpdate:modelValue":p=>t.value[m].interaction=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].severity,"onUpdate:modelValue":p=>t.value[m].severity=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].duration,"onUpdate:modelValue":p=>t.value[m].duration=p},null,8,["items","modelValue","onUpdate:modelValue"])]),l("th",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:d.coping,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[m].coping,"onUpdate:modelValue":p=>t.value[m].coping=p},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128))])]),_:1}),e(B,{"prepend-icon":t.value.isExist?"mdi-update":"mdi-content-save",color:"secondary",onClick:A},{default:a(()=>[N(P(t.value.isExist?"Update Assesment Social Functioning Data":"Create Assesment Social Functioning Data"),1)]),_:1},8,["prepend-icon"])]),_:1}),(s(!0),y(w,null,C(o.value,(_,m)=>(s(),M(ne,{key:m,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:_.isActive,"onUpdate:modelValue":p=>_.isActive=p},{default:a(()=>[l("div",wl,[e(G,{icon:"mdi-check-bold"}),l("p",Vl,P(_.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]))}},Ul=l("h1",null,"Problems in the Environment",-1),Al=l("th",null,"Food and Nutrition",-1),Cl=l("th",null,"Shelter",-1),Sl=l("th",null,"Employment",-1),Pl=l("th",null,"Economic Resource",-1),Dl=l("th",null,"Transportation",-1),Tl=l("th",null,"Affectional Support System",-1),kl=l("h1",null,"Problems in the Environment",-1),Nl={class:"d-flex justify-center align-center ga-2"},Ml={class:"text-subtitle-1"},Fl={__name:"ProblemsInEnvironment",props:{patientId:Number},setup(n){const r=n;Q(async()=>{await f()});const t=V({isExist:!1,patient_id:r.patientId,lack_regular_food:{severity:"",duration:""},nutritionally_inadequate_food:{severity:"",duration:""},documented_malnutrition:{severity:"",duration:""},absence_of_shelter:{severity:"",duration:""},inadequate_shelter:{severity:"",duration:""},unemployment:{severity:"",duration:""},underemployment:{severity:"",duration:""},inappropiate_employment:{severity:"",duration:""},insufficient_community_resources:{severity:"",duration:""},insufficient_provide_resources:{severity:"",duration:""},no_personal_transportation:{severity:"",duration:""},absence_of_affectional_support:{severity:"",duration:""},inadequate_support_system:{severity:"",duration:""},excessive_support_system:{severity:"",duration:""}}),i=V({update:{isActive:!1,text:"Data Updated"},create:{isActive:!1,text:"Data Created"}}),u=_=>{i.value[_].isActive=!0},v=V(0),g=[{title:"slide1",value:1},{title:"slide2",value:2}],U=["Particulars","Severity Index","Duration Index"],A={foodNutrition:{lack_regular_food:{label:"Lack of regular food supply"},nutritionally_inadequate_food:{label:"Nutritionally inadequate food supply"},documented_malnutrition:{label:"Documented malnutrition"}},shelter:{absence_of_shelter:{label:"Absence of shelter"},inadequate_shelter:{label:"Substandard or inadequate shelter"}},employment:{unemployment:{label:"Unemployment"},underemployment:{label:"Underemployment"},inappropiate_employment:{label:"Inappropriate employment"}},economicResource:{insufficient_community_resources:{label:"Insufficient community resources for basic sustenance"},insufficient_provide_resources:{label:"Insufficient resources in the community to provide for needed services beyond"}},transportation:{no_personal_transportation:{label:"No personal/public transportation to job/needed services"}},affectionalSupportSystem:{absence_of_affectional_support:{label:"Absence of affectional support system"},inadequate_support_system:{label:"Support system inadequate to meet affectional needs"},excessive_support_system:{label:"exccessive involved support system"}}},o={severity:[{text:"No Problem",value:1},{text:"Low",value:2},{text:"Moderate",value:3},{text:"High",value:4},{text:"Very High",value:5},{text:"Catastropic",value:4}],duration:[{text:"More than 5 years",value:1},{text:"1 to 5 years",value:2},{text:"6 months to 1 year",value:3},{text:"1 to 6 months",value:4},{text:"2 weeks to 1 month",value:5},{text:"less than 2 weeks",value:6}]},h={comboBox:{problems_presented:{label:"Problems Presented At Intake",items:["Housing","Medical Management","Food/Nutrition","Lack of knowledge/information about where to get medical assistance","Employment","Lack of knowledge/information about hospital protocol","Economic Resources","No immediate family members to assist the patient","Health Condition of the Patient"]},reasons_psychosocial_counselling:{label:"Reasons for Psychosocial Counselling",items:["Anxiety of feelings of helplessness about the treatment expenses","Large family as reason for not being able to provide for their economic needs","Anxiety over illness and treatment","Complacency and dependency for assistance","Unsure and unprepared for the responsibilities of parenting including young parents’ issues","Environment/role adjustment problem","Confusion about the delivery system","Unfounded fear of death, disfigurement","Stress of patient’s relatives","Emotional disturbance/imbalance","Aggressiveness/hostility/stubbornness and demanding traits","Inadequate/absence of affectional support system","Inadequate/absence of coping skills for problem solving and decision making","Marital and family relationship issues","Worried about the loss of income because of illness","Responsibility type of social interaction problem","Refusal to follow rules and hospital policies","Lack of confidence about support of partner","Poor compliance to the doctors ‘instructions","Victim of abuse","Going home against medical advice","Advocacy for patient’s rights on work-related and medico-legal issues","Suicide and self-inflected injuries","Alcohol, cigarette and other substance abuse"]}},textArea:{assesment_findings:{label:"Assesment Findings"},recommended_intervention:{label:"Recommended Intervention"},action_taken:{label:"Action Taken"}},textField:{person_emergency:{label:"Person to be notified in case of emergency"},relationship_to_patient:{label:"Relation to the patient"},address:{label:"Address"},contact_number:{label:"Contact Number"},interviewed_by:{label:"Interviewer"}}},d=async()=>{const _=await na(t.value);_&&(console.log("created",_),t.value.isExist=!0,u("create"))},I=async()=>{const _=await ia(t.value);_&&(console.log("updated",_),u("update"))},f=async()=>{const _=await Ge(r.patientId);_&&(t.value=_,t.value.isExist=!0,console.log("response",t.value))},F=async()=>{if(t.value.isExist){await I();return}await d()};return(_,m)=>(s(),y("div",null,[e(Ve,{class:"tabs",modelValue:v.value,"onUpdate:modelValue":m[0]||(m[0]=p=>v.value=p),"align-tabs":"center",color:"black",density:"compact"},{default:a(()=>[(s(),y(w,null,C(g,(p,c)=>e(we,{value:p.value,key:c},{default:a(()=>[N(P(p.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e(me,{modelValue:v.value,"onUpdate:modelValue":m[1]||(m[1]=p=>v.value=p)},{default:a(()=>[e(J,{value:1},{default:a(()=>[e(z,{style:{width:"1000px"}},{default:a(()=>[Ul,e(O,{class:"mb-5"}),e(ie,null,{default:a(()=>[l("thead",null,[l("tr",null,[(s(),y(w,null,C(U,(p,c)=>l("th",{key:c},P(p),1)),64))])]),l("tbody",null,[Al,(s(!0),y(w,null,C(A.foodNutrition,(p,c)=>(s(),y("tr",{key:c},[l("td",null,P(p.label),1),l("td",null,[e(k,{density:"compact",variant:"outlined",items:o.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].severity,"onUpdate:modelValue":b=>t.value[c].severity=b},null,8,["items","modelValue","onUpdate:modelValue"])]),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].duration,"onUpdate:modelValue":b=>t.value[c].duration=b},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),Cl,(s(!0),y(w,null,C(A.shelter,(p,c)=>(s(),y("tr",{key:c},[l("td",null,P(p.label),1),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].severity,"onUpdate:modelValue":b=>t.value[c].severity=b},null,8,["items","modelValue","onUpdate:modelValue"])]),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].duration,"onUpdate:modelValue":b=>t.value[c].duration=b},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),Sl,(s(!0),y(w,null,C(A.employment,(p,c)=>(s(),y("tr",{key:c},[l("td",null,P(p.label),1),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].severity,"onUpdate:modelValue":b=>t.value[c].severity=b},null,8,["items","modelValue","onUpdate:modelValue"])]),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].duration,"onUpdate:modelValue":b=>t.value[c].duration=b},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),Pl,(s(!0),y(w,null,C(A.economicResource,(p,c)=>(s(),y("tr",{key:c},[l("td",null,P(p.label),1),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].severity,"onUpdate:modelValue":b=>t.value[c].severity=b},null,8,["items","modelValue","onUpdate:modelValue"])]),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].duration,"onUpdate:modelValue":b=>t.value[c].duration=b},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),Dl,(s(!0),y(w,null,C(A.transportation,(p,c)=>(s(),y("tr",{key:c},[l("td",null,P(p.label),1),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].severity,"onUpdate:modelValue":b=>t.value[c].severity=b},null,8,["items","modelValue","onUpdate:modelValue"])]),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].duration,"onUpdate:modelValue":b=>t.value[c].duration=b},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128)),Tl,(s(!0),y(w,null,C(A.affectionalSupportSystem,(p,c)=>(s(),y("tr",{key:c},[l("td",null,P(p.label),1),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.severity,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].severity,"onUpdate:modelValue":b=>t.value[c].severity=b},null,8,["items","modelValue","onUpdate:modelValue"])]),l("td",null,[e(k,{outlined:"",density:"compact",variant:"outlined",items:o.duration,"item-title":"text","item-value":"value",style:{width:"200px"},modelValue:t.value[c].duration,"onUpdate:modelValue":b=>t.value[c].duration=b},null,8,["items","modelValue","onUpdate:modelValue"])])]))),128))])]),_:1})]),_:1})]),_:1}),e(J,{value:2},{default:a(()=>[e(z,{style:{width:"1500px"}},{default:a(()=>[kl,e(O,{class:"bm-5"}),e(j,null,{default:a(()=>[(s(!0),y(w,null,C(h.comboBox,(p,c)=>(s(),M(W,{cols:"12",key:c},{default:a(()=>[e(Z,{chips:"",multiple:"",clearable:"","closable-chips":"",variant:"outlined",label:p.label,items:p.items,modelValue:t.value[c],"onUpdate:modelValue":b=>t.value[c]=b},null,8,["label","items","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1}),e(j,null,{default:a(()=>[(s(!0),y(w,null,C(h.textArea,(p,c)=>(s(),M(W,{cols:"4",key:c},{default:a(()=>[e(fe,{variant:"outlined",label:p.label,modelValue:t.value[c],"onUpdate:modelValue":b=>t.value[c]=b},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1}),e(j,null,{default:a(()=>[(s(!0),y(w,null,C(h.textField,(p,c)=>(s(),M(W,{cols:"4",key:c},{default:a(()=>[e(Y,{variant:"outlined",label:p.label,modelValue:t.value[c],"onUpdate:modelValue":b=>t.value[c]=b},null,8,["label","modelValue","onUpdate:modelValue"])]),_:2},1024))),128))]),_:1}),e(B,{"prepend-icon":t.value.isExist?"mdi-update":"mdi-content-save",color:"secondary",onClick:F},{default:a(()=>[N(P(t.value.isExist?"Update Data":"Create Data"),1)]),_:1},8,["prepend-icon"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),(s(!0),y(w,null,C(i.value,(p,c)=>(s(),M(ne,{key:c,color:"green",location:"top",timeout:2500,"min-width":"250px",modelValue:p.isActive,"onUpdate:modelValue":b=>p.isActive=b},{default:a(()=>[l("div",Nl,[e(G,{icon:"mdi-check-bold"}),l("p",Ml,P(p.text),1)])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]))}},El=l("h2",null,"I. Initial Interview",-1),Rl=l("h2",null,"II Personal Data",-1),Ll=l("h2",null,"Permanent Address",-1),$l=l("h3",null,null,-1),Hl=l("h2",null,"Temporary Address",-1),Bl=l("h3",null,null,-1),jl={__name:"PatientAssesmentData",props:{patientId:Number},emits:["closeDialog"],setup(n,{emit:r}){const t=n,i=V(!0),u=V({interview:{interview_date:{label:"Interview Date",type:"text",formType:"date"},interview_time:{label:"Interview Time",type:"text",formType:"time"},admission_date_and_time:{label:"Admission Date-Time",type:"text",formType:"datetime-local"},basic_ward:{label:"Basic Ward",type:"text"},nonbasic_ward:{label:"Non-Basic Ward",type:"text"},health_record_number:{label:"Health Record Number",type:"text",formType:"number"},mswd_number:{label:"MSWD Number",type:"text",formType:"number"},referring_party:{label:"Referring Party",type:"text"},source_of_referral:{label:"Source of Referral",type:"select",items:["Government Hospital","Private Hospitals/Clinics","Politicians","Media","Health Care Team","NGO’s/Private Welfare Agencies","Government Agencies","Walk – in","Others"]},address:{label:"Referal Address",type:"text"},contact_number:{label:"Referal Contact Number",type:"text",formType:"number",rules:[L.invalidNegative]},informant:{label:"Informant",type:"text"},relationship_to_patient:{label:"Informant relationship to Patient",type:"select",items:["Friends","Workmates","Neighbors","Relatives","Spouse","Children","Parents","Siblings","Others"]},informant_contact_number:{label:"Informant Contact Number",type:"text",formType:"number",rules:[L.invalidNegative]},informant_address:{label:"Informant Address",type:"text"}},demographicData:{personalData:{first_name:{label:"First Name"},middle_name:{label:"Middle Name"},last_name:{label:"Last Name"},age:{label:"Age"},birth_date:{label:"Birth Date"},religion:{label:"Religion"},contact_number:{label:"Contact Number"},occupation:{label:"Occupation"},monthly_income:{label:"Monthly Income"},ph_membership_number:{label:"PH Membership Number"},ph_membership_type:{label:"PH Membership"},gender:{label:"Gender Identity"},sex:{label:"Sex"},nationality:{label:"Nationality"},civil_status:{label:"Civil Status"},living_arrangement:{label:"Living Arrangement"},highest_education_level:{label:"Education"},education_status:{label:"Education Status"}},address:{permanent:{region:{label:"Region"},province:{label:"Province"},district:{label:"District"},municipality:{label:"Municipality"},barangay:{label:"Barangay"},purok:{label:"Purok"}},temporary:{region:{label:"Region"},province:{label:"Province"},district:{label:"District"},municipality:{label:"Municipality"},barangay:{label:"Barangay"},purok:{label:"Purok"}}},tableHeaders:[{title:"Fullname",value:"full_name"},{title:"Age",value:"age"},{title:"Birth Date",value:"birth_date"},{title:"Civil Status",value:"civil_status"},{title:"Relationship",value:"relationship"},{title:"Educational Attainment",value:"educational_attainment"},{title:"Occupation",value:"occupation"},{title:"Monthly Income",value:"monthly_income"}]},mswdClassification:{},familyComposition:{},monthlyExpenses:{},medicalData:{},healthAndMentalHealth:{},discrimination:{},safety:{},socialFunctioning:{},problemsInEnvironment:{}}),v=V({interview:{},personalData:{},mswdClassification:{},familyComposition:{},monthlyExpenses:{},medicalData:{},healthAndMentalHealth:{},discrimination:{},safety:{},socialFunctioning:{},problemsInEnvironment:{}}),g=async()=>{const c=await Re(t.patientId);v.value.interview=c},U=async()=>{const c=await Ee(t.patientId);v.value.personalData=c},A=async()=>{const c=await $e(t.patientId);v.value.mswdClassification=c},o=async()=>{const c=await Le(t.patientId);v.value.familyComposition=c},h=async()=>{const c=await He(t.patientId);v.value.monthlyExpenses=c},d=async()=>{const c=await Be(t.patientId);v.value.medicalData=c},I=async()=>{const c=await je(t.patientId);v.value.healthAndMentalHealth=c},f=async()=>{const c=await Oe(t.patientId);v.value.discrimination=c},F=async()=>{const c=await We(t.patientId);v.value.safety=c},_=async()=>{const c=await qe(t.patientId);v.value.socialFunctioning=c},m=async()=>{const c=await Ge(t.patientId);v.value.problemsInEnvironment=c},p=async()=>{await g(),await U(),await A(),await o(),await h(),await d(),await I(),await f(),await F(),await _(),await m()};return Q(async()=>{await p()}),(c,b)=>(s(),y("div",null,[e(ae,{modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=D=>i.value=D)},{default:a(()=>[e(X,null,{default:a(()=>[e(re,{color:"secondary",class:"pr-4"},{default:a(()=>[e(ce,null,{default:a(()=>[N(" Patient Assesment Data "+P(t.patientId),1)]),_:1}),e(G,null,{default:a(()=>[N("mdi-close")]),_:1})]),_:1}),e(z,null,{default:a(()=>[e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex flex-wrap ga-2"},{default:a(()=>[El,e(O),(s(!0),y(w,null,C(u.value.interview,(D,S)=>(s(),M(Y,{key:S,label:D.label,readonly:"",density:"comfortable",variant:"outlined",style:{width:"300px"},modelValue:v.value.interview[S],"onUpdate:modelValue":E=>v.value.interview[S]=E},null,8,["label","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex flex-wrap ga-2"},{default:a(()=>[Rl,e(O),(s(!0),y(w,null,C(u.value.demographicData.personalData,(D,S)=>(s(),M(Y,{key:S,label:D.label,readonly:"",density:"comfortable",variant:"outlined",style:{width:"400px"},modelValue:v.value.personalData[S],"onUpdate:modelValue":E=>v.value.personalData[S]=E},null,8,["label","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex flex-wrap ga-2"},{default:a(()=>[Ll,$l,e(O),(s(!0),y(w,null,C(u.value.demographicData.address.permanent,(D,S)=>(s(),M(Y,{key:S,label:D.label,readonly:"",density:"comfortable",variant:"outlined",style:{width:"400px"}},null,8,["label"]))),128))]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(W,{cols:"12",class:"d-flex flex-wrap ga-2"},{default:a(()=>[Hl,Bl,e(O),(s(!0),y(w,null,C(u.value.demographicData.address.temporary,(D,S)=>(s(),M(Y,{key:S,label:D.label,readonly:"",density:"comfortable",variant:"outlined",style:{width:"400px"}},null,8,["label"]))),128))]),_:1})]),_:1}),e(j,null,{default:a(()=>[e(W,{cols:"12"},{default:a(()=>[e(Ie,{headers:u.value.demographicData.tableHeaders,items:v.value.familyComposition,"items-per-page":"5",density:"compact","items-per-page-options":[5,10,15]},null,8,["headers","items"])]),_:1}),N(" "+P(v.value.familyComposition),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},Ol={style:{width:"100%"}},Wl=l("h1",{class:""},"Patient List",-1),ql={class:"ma-3 d-flex justify-space-between align-center"},Gl={class:""},Jl={class:"d-flex ga-2"},zl={class:"d-flex ga-5"},Zl={__name:"PatientsView",setup(n){let r=V([]);const t=V(!1),i=V(!1),u=V(!1);V(!1);const v=V(0),g=V(0),U=V({first_name:"",last_name:""}),A=V(null),o=V({}),h=V({viewAssessment:{isVisibile:!1}}),d=V({search:{first_name:{label:"First Name"},last_name:{label:"Last Name"}}}),I=[{title:"Full Name",value:"fullname"},{title:"Age",value:"age"},{title:"Sex",value:"sex"},{title:"Civil Status",value:"civil_status"},{title:"Operation",value:"operation"}],f=[{title:"Interview",value:1},{title:"I - Demographic Data",value:2},{title:"II - MSWD Classification",value:3},{title:"III - Monthly Expenses",value:4},{title:"IV - Medical Data",value:5},{title:"V - Health and Mental Health",value:6},{title:"VI - Discrimination",value:7},{title:"VII - Safety",value:8},{title:"VIII - Assesment of Social Functioning",value:9},{title:"IV - Problems in the Environment",value:10}],F=D=>{g.value=D,u.value=!u.value,v.value=1};async function _(){t.value=!0;try{const D=await St();r.value=D}finally{t.value=!1}}async function m(){if(!await be(A))return;const S=await Pt(U.value);if(S.length<=0){o.value=ue("error","No data found"),r.value=[];return}o.value=ue("success",`${S.length} Data found`),r.value=S}const p=()=>{i.value=!i.value},c=D=>{F(D)},b=D=>{r.value.push(D.value),console.log("successfuly added",r.value)};return Q(async()=>{await _()}),(D,S)=>(s(),y(w,null,[l("div",Ol,[e(X,null,{default:a(()=>[e(re,{color:"secondary",class:"d-flex align-center px-5"},{default:a(()=>[e(G,{size:"x-large",icon:"mdi-account-group",class:"mr-5"}),Wl]),_:1}),l("div",ql,[l("div",Gl,[e(B,{color:"secondary","prepend-icon":"mdi-account-plus",onClick:S[0]||(S[0]=E=>i.value=!i.value)},{default:a(()=>[N("Assess Patient")]),_:1})]),e(de,{ref_key:"searchForm",ref:A},{default:a(()=>[l("div",Jl,[(s(!0),y(w,null,C(d.value.search,(E,le)=>(s(),M(Y,{key:le,label:E.label,modelValue:U.value[le],"onUpdate:modelValue":_e=>U.value[le]=_e,density:"compact",style:{width:"200px"},variant:"outlined",onKeyup:Ut(m,["enter"])},null,8,["label","modelValue","onUpdate:modelValue"]))),128)),e(B,{color:"grey",onClick:m,disabled:!U.value.first_name&&!U.value.last_name},{default:a(()=>[N(" Search ")]),_:1},8,["disabled"])])]),_:1},512)]),e(O),e(te,{class:"d-flex align-end"},{default:a(()=>[e(Ie,{width:"100%",loading:t.value,headers:I,items:H(r),"items-per-page":"10",density:"comfortable","items-per-page-options":[5,10]},{"item.operation":a(({item:E})=>[l("div",zl,[e(G,{color:"primary",onClick:le=>F(E.id)},{default:a(()=>[N("mdi-pencil")]),_:2},1032,["onClick"])])]),_:2},1032,["loading","items"])]),_:1})]),_:1}),e(ae,{persistent:"",modelValue:i.value,"onUpdate:modelValue":S[1]||(S[1]=E=>i.value=E),width:"auto"},{default:a(()=>[e(X,null,{default:a(()=>[e(re,{color:"secondary"},{default:a(()=>[e(ce,null,{default:a(()=>[N(" Initial Assesment ")]),_:1}),e(Te),e(B,{icon:"",onClick:p},{default:a(()=>[e(G,null,{default:a(()=>[N("mdi-close")]),_:1})]),_:1})]),_:1}),e(O),e(te,null,{default:a(()=>[e(Sa,{onViewPatient:c,onCloseCreateDialog:p,onAddPatient:b})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ae,{modelValue:u.value,"onUpdate:modelValue":S[5]||(S[5]=E=>u.value=E),fullscreen:"",scrollable:"",transition:"dialog-transition"},{default:a(()=>[e(X,{class:""},{default:a(()=>[e(te,{class:"pa-0"},{default:a(()=>[e(re,{color:"secondary"},{default:a(()=>[e(ce,null,{default:a(()=>[N(" Edit Patient Assesment ")]),_:1}),e(Te),e(B,{icon:"mdi-close",onClick:S[2]||(S[2]=E=>u.value=!u.value)})]),_:1}),e(Ve,{class:"tabs",modelValue:v.value,"onUpdate:modelValue":S[3]||(S[3]=E=>v.value=E),"align-tabs":"center","center-active":"",color:"black",stacked:"","fixed-tabs":"",density:"compact"},{default:a(()=>[(s(),y(w,null,C(f,(E,le)=>e(we,{value:E.value,key:le},{default:a(()=>[N(P(E.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),e(me,{class:"",modelValue:v.value,"onUpdate:modelValue":S[4]||(S[4]=E=>v.value=E)},{default:a(()=>[e(J,{class:"",value:1},{default:a(()=>[e(Ta,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:2},{default:a(()=>[e(Ka,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:3},{default:a(()=>[e(Fa,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:4},{default:a(()=>[e(Xa,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:5},{default:a(()=>[e(al,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:6},{default:a(()=>[e(ol,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:7},{default:a(()=>[e(cl,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:8},{default:a(()=>[e(yl,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:9},{default:a(()=>[e(Il,{patientId:g.value},null,8,["patientId"])]),_:1}),e(J,{value:10},{default:a(()=>[e(Fl,{patientId:g.value},null,8,["patientId"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(ae,{modelValue:h.value.viewAssessment.isVisibile,"onUpdate:modelValue":S[6]||(S[6]=E=>h.value.viewAssessment.isVisibile=E),transition:"dialog-transition"},{default:a(()=>[e(jl,{patientId:g.value},null,8,["patientId"])]),_:1},8,["modelValue"]),e(xe,{snackBarData:o.value},null,8,["snackBarData"])],64))}};export{Zl as default};
